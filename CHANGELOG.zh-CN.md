# 更新日志

本项目的所有显著更改都将记录在此文件中。

## [0.1.12] - 2025-07-27

### 0.1.12 中新增

- **自动元数据生成**: 为 `chat`、`parallel_chat` 和 `stream_chat` 方法增加了 `enable_auto_tagging` 和 `enable_auto_titling` 参数，用于自动为对话生成并应用标签和标题。
- **手动元数据更新**: 引入了新的公共方法 `update_chat_metadata`，允许用户通过提供 `chat_id` 来为现有对话重新生成和更新标签和/或标题。
- **增强的返回值**: 当相应功能启用时，`chat`、`parallel_chat` 和 `stream_chat` 方法现在会在其响应字典中返回 `suggested_tags` 和 `suggested_title`。
- **单元测试和演示**: 添加了 `tests/test_metadata_features.py` 以测试新的元数据功能，并在 `examples/demos.py` 中增加了一个新的演示来展示其用法。

## [0.1.12] - 2025-07-27

### 0.1.12 中新增

- **自动元数据生成**: 为 `chat`、`parallel_chat` 和 `stream_chat` 方法增加了 `enable_auto_tagging` 和 `enable_auto_titling` 参数，用于自动为对话生成并应用标签和标题。
- **手动元数据更新**: 引入了新的公共方法 `update_chat_metadata`，允许用户通过提供 `chat_id` 来为现有对话重新生成和更新标签和/或标题。
- **增强的返回值**: 当相应功能启用时，`chat`、`parallel_chat` 和 `stream_chat` 方法现在会在其响应字典中返回 `suggested_tags` 和 `suggested_title`。
- **单元测试和演示**: 添加了 `tests/test_metadata_features.py` 以测试新的元数据功能，并在 `examples/demos.py` 中增加了一个新的演示来展示其用法。

## [0.1.11] - 2025-07-26

### 0.1.11 中新增

- **流式聊天实时更新优化**: 在 `stream_chat` 方法中增加了实时增量内容推送功能。通过调用 `/api/v1/chats/{chat_id}/messages/{message_id}/event` 接口，在流式生成内容的同时将每个内容块实时推送到 Open WebUI 前端，实现打字机效果的实时更新体验。
- 增加了 `_stream_delta_update` 私有方法，用于流式聊天期间的实时增量内容更新。
- 增加了 `examples/stream_chat_demo.py` 演示脚本，用于增强的流式功能。
- **聊天追问生成选项**: 增加了对聊天方法中追问生成选项的支持。
- 在 OpenWebUIClient 初始化期间自动加载可用的模型 ID。
- 增强了 `get_model` 方法，使其在模型不存在且 API 返回 401 时自动尝试创建模型并重试获取。

### 0.1.11 中变更

- 在 `get_model` 方法中增加了对空 `model_id` 和本地可用模型列表的检查。
- 增强了 `_ask_stream` 方法，使其包含实时增量更新，同时保持向后兼容性。

## [0.1.10] - 2025-07-20

### 0.1.10 中新增

- 增加了 `stream_chat` 方法，用于单模型流式聊天功能。
- 增加了 `delete_all_knowledge_bases` 方法，用于删除所有知识库。
- 增加了 `delete_knowledge_bases_by_keyword` 方法，用于按名称关键词删除知识库。
- 增加了 `create_knowledge_bases_with_files` 方法，用于批量创建知识库并添加文件。

---

## [0.1.9] - 2025-07-13

### 0.1.9 中新增

- 增加了 `list_custom_models` 方法，用于列出用户创建的自定义模型。
- 增加了 `switch_chat_model` 方法，用于支持在现有聊天中切换模型。

### 0.1.9 中变更

- 重构了 `list_models` 和 `list_base_models` 方法，以改进日志记录和健壮的响应处理。

### 0.1.9 中修复

- 纠正了 `list_models` 和 `list_base_models` 可能因意外的 API 响应格式而返回不正确数据的问题。

---

## [0.1.8] - 2025-07-08

### 0.1.8 中变更

- 统一了 `chat` 和 `parallel_chat` 的返回格式，以始终提供详细的响应对象，包括 `chat_id` 和消息标识符。
- 改进了日志记录和错误处理，以实现更健壮的 API 交互。

### 0.1.8 中修复

- 纠正了 `tool_ids` 参数格式，以确保在 API 请求中正确使用工具。

---

## [0.1.7] - 2025-06-27

### 0.1.7 中新增

- 改进并重构了 README 文档。
- 增加了对 `chat`/`parallel_chat` 中 `tool_ids` 和 `image_paths` 参数的支持。
- 增强了 API 参考和使用示例。

### 0.1.7 中变更

- 各种文档和可用性改进。

---

## [0.1.6] - 2025-06-25

### 0.1.6 中新增

- 模型管理：列出、创建、更新、删除自定义模型。
- 知识库管理：创建、添加文件、查询。
- 聊天组织：文件夹、标签、重命名、移动。
- RAG（检索增强生成）支持。
- 基本错误处理和日志记录。

### 0.1.6 中变更

- 改进了错误消息和日志记录。
- 次要错误修复。

---

## [0.1.5] - 2025-06-24

### 0.1.5 中新增

- 支持聊天文件夹和在文件夹之间移动聊天。
- 标记和重命名聊天。

### 0.1.5 中变更

- 改进了聊天会话缓存。

---

## [0.1.4] - 2025-06-23

### 0.1.4 中新增

- 并行模型聊天（一次对话中的多模型 A/B 测试）。
- 更健壮的会话和文件上传缓存。

### 0.1.4 中变更

- 重构了聊天和模型 API 以实现可扩展性。

---

## [0.1.3] - 2025-06-22

### 0.1.3 中新增

- 知识库 CRUD 和文件上传支持。
- 聊天中的 RAG 集成。

### 0.1.3 中变更

- 改进了 API 错误处理。

---

## [0.1.2] - 2025-06-21

### 0.1.2 中新增

- 自定义模型创建和更新的初步支持。
- 基本日志记录和调试输出。

### 0.1.2 中变更

- 聊天 API 的次要改进。

---

## [0.1.1] - 2025-06-20

### 0.1.1 中新增

- 单模型聊天和聊天历史记录。
- 基本项目结构和打包。

---

## [0.1.0] - 2025-06-20

### 0.1.0 中新增

- PyPI 上的首次公开发布。
- 核心 OpenWebUI 聊天客户端实现。
