<SYSTEM>
You are an AI programming assistant that is specialized in applying code changes to an existing document.
Follow Microsoft content policies.
Avoid content that violates copyrights.
If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."
Keep your answers short and impersonal.
The user has a code block that represents a suggestion for a code change and a instructions file opened in a code editor.
Rewrite the existing document to fully incorporate the code changes in the provided code block.
For the response, always follow these instructions:
1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.
2. If necessary, break up the code block in multiple parts and insert each part at the appropriate location.
3. Preserve whitespace and newlines right after the parts of the file that you modify.
4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any ...existing code... comments.
5. Finally, provide the fully rewritten file. You must output the complete file.
</SYSTEM>


I have the following code open in the editor, starting from line 1 to line 1193.
````instructions
# OpenWebUI Chat Client - Copilotå¼€å‘æŒ‡å—

## é¡¹ç›®æ¦‚è¿°

**openwebui-chat-client** æ˜¯ä¸€ä¸ªå…¨é¢çš„ã€æœ‰çŠ¶æ€çš„Pythonå®¢æˆ·ç«¯åº“ï¼Œç”¨äºä¸ [Open WebUI](https://github.com/open-webui/open-webui) APIè¿›è¡Œæ™ºèƒ½äº¤äº’ã€‚æœ¬é¡¹ç›®æ”¯æŒå•/å¤šæ¨¡å‹èŠå¤©ã€å·¥å…·ä½¿ç”¨ã€æ–‡ä»¶ä¸Šä¼ ã€æ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG)ã€çŸ¥è¯†åº“ç®¡ç†å’Œé«˜çº§èŠå¤©ç»„ç»‡åŠŸèƒ½ã€‚

### æ ¸å¿ƒç›®æ ‡
- **ç¼–ç¨‹æ–¹å¼åˆ›å»ºå’Œç®¡ç†èŠå¤©**: é€šè¿‡ä»£ç åˆ›å»ºã€æŸ¥è¯¢ã€ç®¡ç†èŠå¤©ä¼šè¯ï¼Œç¡®ä¿ä¸Open WebUIå‰ç«¯å®Œç¾åŒæ­¥
- **æ‰¹é‡ä¸è‡ªåŠ¨åŒ–åŠŸèƒ½**: æä¾›é«˜æ•ˆçš„æ‰¹é‡æ“ä½œå’Œè‡ªåŠ¨åŒ–ç»´æŠ¤è„šæœ¬
- **å…¨é¢çš„APIè¦†ç›–**: å°è£…Open WebUIçš„ä¸»è¦OpenAPIæ¥å£ï¼Œæä¾›åŠŸèƒ½å®Œæ•´ã€æ¥å£å‹å¥½çš„å®¢æˆ·ç«¯åº“

### æŠ€æœ¯æ ˆ
- **ä¸»è¦è¯­è¨€**: Python (>=3.8)
- **æ ¸å¿ƒä¾èµ–**: `requests`, `python-dotenv`
- **å¹¶å‘å¤„ç†**: `concurrent.futures.ThreadPoolExecutor`
- **æµ‹è¯•æ¡†æ¶**: unittest
- **CI/CD**: GitHub Actions
- **åŒ…ç®¡ç†**: PyPI

---

## ğŸ—ï¸ æ¶æ„æ¨¡å¼ (ç«‹å³ä¸Šæ‰‹çš„å…³é”®)

### 1. æ¨¡å—åŒ–æ¶æ„æ¨¡å¼
```python
# ä¸»è¦æ¶æ„æ¨¡å¼ - ç†è§£è¿™ä¸ªå°±èƒ½ç«‹å³ä¸Šæ‰‹
from openwebui_chat_client import OpenWebUIClient

# å®¢æˆ·ç«¯ä½¿ç”¨ä¸“é—¨çš„ç®¡ç†å™¨å¤„ç†ä¸åŒåŠŸèƒ½
client = OpenWebUIClient(base_url, token, default_model)

# èŠå¤©åŠŸèƒ½ â†’ ChatManager
result = client.chat(question="Hello", chat_title="Test")

# æ¨¡å‹ç®¡ç† â†’ ModelManager
models = client.list_models()

# çŸ¥è¯†åº“ â†’ KnowledgeBaseManager
client.create_knowledge_base("my_kb", files=["doc.pdf"])
```

**å…³é”®ç†è§£**: æ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡ä¸“é—¨çš„ç®¡ç†å™¨ç±»å¤„ç†ï¼Œä½†APIä¿æŒå‘åå…¼å®¹ã€‚

### 2. çŠ¶æ€åŒæ­¥æ¨¡å¼
```python
# å®¢æˆ·ç«¯ç»´æŠ¤çŠ¶æ€å¹¶è‡ªåŠ¨åŒæ­¥åˆ°åç«¯
client.chat_id  # å½“å‰æ´»è·ƒèŠå¤©ID
client.chat_object_from_server  # åç«¯èŠå¤©å¯¹è±¡

# çŠ¶æ€å˜æ›´è‡ªåŠ¨åŒæ­¥
result = client.chat(question="Hi", chat_title="New Chat")
# â†‘ è¿™ä¼šè‡ªåŠ¨åˆ›å»ºæ–°èŠå¤©å¹¶æ›´æ–° client.chat_id
```

### 3. é€‰æ‹©æ€§é›†æˆæµ‹è¯•ç³»ç»Ÿ
```yaml
# .github/test-mapping.yml - æ–‡ä»¶å˜æ›´åˆ°æµ‹è¯•çš„æ™ºèƒ½æ˜ å°„
file_mappings:
  - pattern: "openwebui_chat_client/**/*chat*.py"
    categories: ["basic_chat", "model_switching"]
  - pattern: "examples/notes_api/**"
    categories: ["notes_api"]
```

**å·¥ä½œæµ**: æ–‡ä»¶å˜æ›´ â†’ è‡ªåŠ¨æ£€æµ‹ â†’ åªè¿è¡Œç›¸å…³æµ‹è¯• â†’ æ˜¾è‘—æå‡CIæ•ˆç‡

---

## ğŸ“ å¼€å‘è§„èŒƒ

### 1. ä»£ç é£æ ¼ä¸ç»“æ„

#### å‘½åè§„èŒƒ
- éµå¾ªPEP 8ç¼–ç è§„èŒƒ
- å†…éƒ¨è¾…åŠ©æ–¹æ³•ä½¿ç”¨å•ä¸ªä¸‹åˆ’çº¿å‰ç¼€ï¼ˆå¦‚`_ask`ã€`_upload_file`ï¼‰
- å¸¸é‡å’Œé…ç½®é¡¹åœ¨`__init__`æ–¹æ³•ä¸­åˆå§‹åŒ–ä¸ºå®ä¾‹å±æ€§
- ä¼˜å…ˆä½¿ç”¨f-stringè¿›è¡Œå­—ç¬¦ä¸²æ ¼å¼åŒ–

#### ç±»å‹æç¤º
- **å¿…é¡»**: æ‰€æœ‰å‡½æ•°å’Œæ–¹æ³•çš„å‚æ•°åŠè¿”å›å€¼éƒ½å¿…é¡»æœ‰æ˜ç¡®çš„ç±»å‹æç¤º
- **ä½¿ç”¨**: `typing`æ¨¡å—ä¸­çš„`Optional`, `List`, `Dict`, `Tuple`, `Union`, `Generator`ç­‰
- **ç¤ºä¾‹**:
```python
def chat(self, question: str, chat_title: Optional[str] = None,
         model_id: Optional[str] = None) -> Optional[Dict[str, Any]]:
    pass
```

#### æ—¥å¿—è®°å½•
- **å…³é”®æ“ä½œ**: åœ¨æ‰€æœ‰APIè¯·æ±‚ã€æ–‡ä»¶æ“ä½œã€çŠ¶æ€å˜æ›´å‰åè®°å½•æ—¥å¿—
- **æ—¥å¿—çº§åˆ«**:
  - `logger.info()`: æ­£å¸¸æ“ä½œæµç¨‹
  - `logger.warning()`: è­¦å‘Šä¿¡æ¯
  - `logger.error()`: é”™è¯¯ä¿¡æ¯
  - `logger.debug()`: è¯¦ç»†è°ƒè¯•ä¿¡æ¯ï¼ˆå¦‚è¯·æ±‚è½½è·ï¼‰
- **æ—¥å¿—å†…å®¹**: å¿…é¡»åŒ…å«å…³é”®ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆå¦‚`chat_id`ã€`model_id`ã€`file_path`ç­‰ï¼‰

#### å¼‚å¸¸å¤„ç†
- **å¿…é¡»**: å¯¹æ‰€æœ‰å¯èƒ½å¤±è´¥çš„æ“ä½œä½¿ç”¨`try...except`å—
- **ä¼˜å…ˆ**: æ•è·å…·ä½“çš„å¼‚å¸¸ç±»å‹ï¼ˆå¦‚`requests.exceptions.RequestException`, `json.JSONDecodeError`, `KeyError`ï¼‰
- **é¿å…**: å®½æ³›çš„`except Exception`
- **è¦æ±‚**: åœ¨`except`å—ä¸­ä½¿ç”¨`logger.error()`è®°å½•è¯¦ç»†é”™è¯¯ä¿¡æ¯

### 2. æ¶æ„åŸåˆ™

#### çŠ¶æ€æŒä¹…åŒ–
- å®¢æˆ·ç«¯çš„æ‰€æœ‰æ“ä½œéƒ½åº”ä¸Open WebUIåç«¯åŒæ­¥
- é€šè¿‡APIæ‰€åšçš„æ›´æ”¹å¿…é¡»èƒ½å¤ŸæŒä¹…åŒ–å¹¶åæ˜ åœ¨UIä¸Š
- ç»´æŠ¤èŠå¤©ä¼šè¯çŠ¶æ€çš„ä¸€è‡´æ€§

#### åŸå­åŒ–ä¸æ‰¹é‡åŒ–
- æä¾›åŸå­åŒ–çš„APIæ“ä½œæ–¹æ³•
- åœ¨åŸå­æ“ä½œåŸºç¡€ä¸Šæ„å»ºæ‰¹é‡å¤„ç†æ–¹æ³•
- æ»¡è¶³ä¸åŒå±‚æ¬¡çš„è‡ªåŠ¨åŒ–éœ€æ±‚

#### ç”¨æˆ·å‹å¥½ä¸å¥å£®æ€§
- æä¾›æ¸…æ™°çš„æ—¥å¿—è®°å½•å’Œç²¾ç»†çš„å¼‚å¸¸å¤„ç†
- æ‰€æœ‰ä¸å¤–éƒ¨äº¤äº’çš„æ–¹æ³•éƒ½å¿…é¡»æœ‰æ˜ç¡®çš„æˆåŠŸ/å¤±è´¥è¿”å›
- æ–¹ä¾¿ç”¨æˆ·è¿›è¡Œè°ƒè¯•å’Œé›†æˆ

---

## ğŸš€ å¼€å‘å·¥ä½œæµ

### 1. æ–°åŠŸèƒ½å¼€å‘æµç¨‹

#### åŠŸèƒ½å¼€å‘
1. **éœ€æ±‚åˆ†æ**: ç¡®ä¿æ–°åŠŸèƒ½ç¬¦åˆé¡¹ç›®æ ¸å¿ƒç›®æ ‡
2. **APIè®¾è®¡**: åœ¨ç›¸åº”ç®¡ç†å™¨ä¸­æ·»åŠ æ–°æ–¹æ³•
3. **ç¼–ç è§„èŒƒ**: ä¸¥æ ¼éµå¾ªä¸Šè¿°ç¼–ç è§„èŒƒ
4. **ç¤ºä¾‹ä»£ç **: åœ¨`examples/`ç›®å½•ä¸‹æ·»åŠ ç›¸åº”ç¤ºä¾‹
5. **å•å…ƒæµ‹è¯•**: åœ¨`tests/`ç›®å½•ä¸‹æ·»åŠ å¯¹åº”æµ‹è¯•
6. **é›†æˆæµ‹è¯•æ˜ å°„**: æ›´æ–°`.github/test-mapping.yml`ä»¥åŒ…å«æ–°åŠŸèƒ½çš„æµ‹è¯•æ˜ å°„

#### ä»£ç ç»“æ„
- **ä¸»è¦ä»£ç **: `openwebui_chat_client/openwebui_chat_client.py`
- **æ ¸å¿ƒæ¨¡å—**: `openwebui_chat_client/core/base_client.py`
- **åŠŸèƒ½ç®¡ç†å™¨**: `openwebui_chat_client/modules/` ç›®å½•
- **æµ‹è¯•ä»£ç **: `tests/test_*.py`
- **ç¤ºä¾‹ä»£ç **: `examples/` ç›®å½•ä¸‹æŒ‰åŠŸèƒ½åˆ†ç±»ç»„ç»‡

### 2. æµ‹è¯•è¦æ±‚

#### æµ‹è¯•è¦†ç›–
- **å•å…ƒæµ‹è¯•**: æ¯ä¸ªæ–°åŠŸèƒ½éƒ½å¿…é¡»æœ‰å¯¹åº”çš„å•å…ƒæµ‹è¯•
- **é›†æˆæµ‹è¯•**: å…³é”®åŠŸèƒ½éœ€è¦é›†æˆæµ‹è¯•
- **æµ‹è¯•å‘½ä»¤**: `python -m unittest discover -s tests -p "test_*.py" -v`

#### æµ‹è¯•åˆ†ç±»
- `test_openwebui_chat_client.py`: ä¸»è¦å®¢æˆ·ç«¯åŠŸèƒ½æµ‹è¯•
- `test_chat_functionality.py`: èŠå¤©åŠŸèƒ½æµ‹è¯•
- `test_knowledge_base.py`: çŸ¥è¯†åº“åŠŸèƒ½æµ‹è¯•
- `test_notes_functionality.py`: ç¬”è®°åŠŸèƒ½æµ‹è¯•
- `test_error_handling.py`: é”™è¯¯å¤„ç†æµ‹è¯•

#### æµ‹è¯•ç¼–å†™åŸåˆ™
- ä½¿ç”¨`unittest.mock`æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–
- æµ‹è¯•åº”è¯¥ç‹¬ç«‹ä¸”å¯é‡å¤
- åŒ…å«æ­£å¸¸æƒ…å†µå’Œå¼‚å¸¸æƒ…å†µçš„æµ‹è¯•

### 3. æ–‡æ¡£ç»´æŠ¤

#### å¿…é¡»æ›´æ–°çš„æ–‡æ¡£
- **README.md**: è‹±æ–‡ç‰ˆæœ¬åŠŸèƒ½è¯´æ˜å’Œä½¿ç”¨æŒ‡å—
- **README.zh-CN.md**: ä¸­æ–‡ç‰ˆæœ¬åŠŸèƒ½è¯´æ˜å’Œä½¿ç”¨æŒ‡å—
- **CHANGELOG.md**: ç‰ˆæœ¬å˜æ›´è®°å½•
- **CHANGELOG.zh-CN.md**: ä¸­æ–‡ç‰ˆæœ¬å˜æ›´è®°å½•

#### æ–‡æ¡£æ›´æ–°è¦æ±‚
- æ–°åŠŸèƒ½å¿…é¡»åœ¨READMEä¸­æ·»åŠ ä½¿ç”¨ç¤ºä¾‹
- APIå˜æ›´å¿…é¡»åœ¨CHANGELOGä¸­è®°å½•
- æ–‡æ¡£åº”ä¸ä»£ç ä¿æŒåŒæ­¥
- ç¤ºä¾‹ä»£ç å¿…é¡»å¯æ‰§è¡Œä¸”æœ‰æ•ˆ

#### CHANGELOG ç®¡ç†è§„èŒƒ
- **æ¯æ¬¡åŠŸèƒ½ä¿®æ”¹éƒ½å¿…é¡»æ›´æ–° CHANGELOG**: æ— è®ºä¿®æ”¹å¤§å°ï¼Œä»»ä½•ä¸**æ¨¡å‹åŠŸèƒ½**ç›¸å…³çš„å¢åŠ ã€ä¿®æ”¹æˆ–ä¿®å¤éƒ½å¿…é¡»åœ¨ CHANGELOG ä¸­è®°å½•ã€‚
- **æœªå‘å¸ƒæ›´æ”¹æ ‡è®°**: åœ¨æ²¡æœ‰ç‰ˆæœ¬å‘å¸ƒè¦æ±‚æ—¶ï¼Œæ‰€æœ‰æ›´æ”¹éƒ½åº”æ·»åŠ åˆ° `[æœªå‘å¸ƒ]` / `[Unreleased]` éƒ¨åˆ†ã€‚
- **ç‰ˆæœ¬å‘å¸ƒæ—¶è½¬æ¢**: åªæœ‰åœ¨æ­£å¼ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œæ‰å°† `[æœªå‘å¸ƒ]` éƒ¨åˆ†è½¬æ¢ä¸ºå…·ä½“ç‰ˆæœ¬å·ï¼ˆå¦‚ `[0.1.14]`ï¼‰ã€‚
- **README æ›´æ–°æ—¶æœº**: README æ–‡ä»¶åªåœ¨ç‰ˆæœ¬å‘å¸ƒæ—¶æ‰è¿›è¡Œæ›´æ–°ï¼Œå¹³æ—¶çš„åŠŸèƒ½ä¿®æ”¹ä¸æ›´æ–° READMEã€‚
- **åŒè¯­åŒæ­¥**: CHANGELOG.md å’Œ CHANGELOG.zh-CN.md å¿…é¡»åŒæ—¶æ›´æ–°ï¼Œä¿æŒå†…å®¹ä¸€è‡´ã€‚
- **å˜æ›´åˆ†ç±»**: ä½¿ç”¨æ ‡å‡†åˆ†ç±»ï¼š`Added`/`æ–°å¢`ã€`Changed`/`å˜æ›´`ã€`Fixed`/`ä¿®å¤`ã€`Removed`/`ç§»é™¤`ã€‚
- **è¯¦ç»†æè¿°**: æ¯ä¸ªå˜æ›´é¡¹éƒ½åº”åŒ…å«æ¸…æ™°çš„**æ¨¡å‹åŠŸèƒ½**æè¿°å’Œå½±å“èŒƒå›´ã€‚

#### ç‰ˆæœ¬å‘å¸ƒæµç¨‹ä¸­çš„æ–‡æ¡£æ›´æ–°
1. **åŠŸèƒ½å¼€å‘é˜¶æ®µ**: åªæ›´æ–° CHANGELOG çš„ `[æœªå‘å¸ƒ]` éƒ¨åˆ†ï¼Œä¸æ›´æ–° READMEã€‚
2. **ç‰ˆæœ¬å‘å¸ƒå‡†å¤‡**: 
   - å°† `[æœªå‘å¸ƒ]` / `[Unreleased]` æ›´æ”¹ä¸ºå…·ä½“ç‰ˆæœ¬å·å’Œå‘å¸ƒæ—¥æœŸï¼ˆå¦‚ `[0.1.16] - 2025-08-10`ï¼‰
   - **å…³é”®**: å¿…é¡»å®Œå…¨ç§»é™¤ç©ºçš„ `[æœªå‘å¸ƒ]` / `[Unreleased]` éƒ¨åˆ†ï¼Œå¦åˆ™å‘å¸ƒå·¥ä½œæµä¸ä¼šè§¦å‘
   - ç¡®ä¿æ–°ç‰ˆæœ¬æ¡ç›®ä½äº CHANGELOG æ–‡ä»¶çš„æœ€é¡¶éƒ¨
   - åŒæ—¶æ›´æ–°è‹±æ–‡å’Œä¸­æ–‡ç‰ˆæœ¬çš„ CHANGELOG
   - **åŒæ­¥æ›´æ–°ç‰ˆæœ¬å·**: ç¡®ä¿ `pyproject.toml` å’Œ `openwebui_chat_client/__init__.py` æ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·ä¸å‘å¸ƒç‰ˆæœ¬ä¸€è‡´ã€‚
3. **ç‰ˆæœ¬å‘å¸ƒæ—¶**: åŒæ—¶æ›´æ–° README æ–‡ä»¶ä»¥åæ˜ æ–°åŠŸèƒ½å’Œ API å˜æ›´ã€‚
4. **å‘å¸ƒå®Œæˆå**: åœ¨ CHANGELOG é¡¶éƒ¨æ·»åŠ æ–°çš„ `[æœªå‘å¸ƒ]` éƒ¨åˆ†ï¼Œå‡†å¤‡ä¸‹ä¸€è½®å¼€å‘ã€‚

#### å‘å¸ƒå·¥ä½œæµè§¦å‘æœºåˆ¶
å‘å¸ƒå·¥ä½œæµé€šè¿‡æ£€æµ‹ CHANGELOG.md çš„æ›´æ”¹æ¥è‡ªåŠ¨è§¦å‘ã€‚å…³é”®è¦æ±‚ï¼š
- **å·¥ä½œæµæ£€æŸ¥**: æå– CHANGELOG.md ä¸­ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ¡ç›®ï¼ˆä½¿ç”¨ `grep -m 1 '^## \['`ï¼‰
- **é˜»æ­¢æ¡ä»¶**: å¦‚æœç¬¬ä¸€ä¸ªç‰ˆæœ¬æ˜¯ "Unreleased" æˆ– "æœªå‘å¸ƒ"ï¼Œå·¥ä½œæµå°†**ä¸ä¼š**è§¦å‘å‘å¸ƒ
- **è§¦å‘æ¡ä»¶**: åªæœ‰å½“ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ˜¯æœ‰æ•ˆçš„è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼ˆå¦‚ `0.1.22`ï¼‰æ—¶ï¼Œæ‰ä¼šåˆ›å»ºæ ‡ç­¾å¹¶è§¦å‘å‘å¸ƒæµç¨‹
- **æ ¼å¼éªŒè¯**: ç‰ˆæœ¬å·å¿…é¡»ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆX.Y.Z æˆ– X.Y.Z-suffixï¼‰
- **æ–‡ä»¶é¡ºåº**ï¼šCHANGELOG åº”è¯¥æŒ‰ç…§ç‰ˆæœ¬ä»æ–°åˆ°æ—§çš„é¡ºåºæ’åˆ—ï¼Œå‘å¸ƒç‰ˆæœ¬å§‹ç»ˆåº”è¯¥åœ¨æœ€é¡¶éƒ¨ï¼ˆåœ¨æ ‡é¢˜ä¹‹åï¼‰

#### å‘å¸ƒå·¥ä½œæµæ•…éšœæ’é™¤
å½“å‘å¸ƒå·¥ä½œæµæœªèƒ½æ­£ç¡®è§¦å‘æ—¶ï¼Œæ£€æŸ¥ä»¥ä¸‹å¸¸è§é—®é¢˜ï¼š

1. **CHANGELOG æ ¼å¼æ£€æŸ¥**:
   ```bash
   # æ£€æŸ¥ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ¡ç›®æå–æ˜¯å¦æ­£ç¡®
   grep -m 1 '^## \[' CHANGELOG.md
   # åº”è¯¥è¿”å›ç±»ä¼¼: ## [0.1.22] - 2025-11-18
   ```

2. **å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ**:
   - âŒ **é—®é¢˜**: CHANGELOG ç¬¬ä¸€è¡Œæ˜¯ `[Unreleased]`ï¼Œå·¥ä½œæµä¸è§¦å‘
     - âœ… **è§£å†³**: åˆ é™¤ `## [Unreleased]` æˆ– `## [æœªå‘å¸ƒ]` è¡Œï¼Œè®©ç‰ˆæœ¬å·æˆä¸ºç¬¬ä¸€ä¸ªç‰ˆæœ¬æ¡ç›®
   - âŒ **é—®é¢˜**: ç‰ˆæœ¬å·æ ¼å¼ä¸æ­£ç¡®
     - âœ… **è§£å†³**: ç¡®ä¿æ ¼å¼ä¸º `[X.Y.Z] - YYYY-MM-DD`ï¼Œä¾‹å¦‚ `[0.1.22] - 2025-11-18`
   - âŒ **é—®é¢˜**: æ–°ç‰ˆæœ¬ä¸åœ¨æœ€é¡¶éƒ¨
     - âœ… **è§£å†³**: å°†æ–°ç‰ˆæœ¬ç§»è‡³æ–‡ä»¶å¼€å¤´ï¼ˆæ ‡é¢˜åç¬¬ä¸€ä¸ªç‰ˆæœ¬æ¡ç›®ï¼‰
   - âŒ **é—®é¢˜**: `[Unreleased]` éƒ¨åˆ†ä»åœ¨æ–‡ä»¶ä¸­
     - âœ… **è§£å†³**: å‘å¸ƒæ—¶å®Œå…¨åˆ é™¤æ­¤éƒ¨åˆ†ï¼Œå¾…å‘å¸ƒå®Œæˆåå†æ·»åŠ æ–°çš„ `[Unreleased]`

3. **éªŒè¯å‘å¸ƒå‡†å¤‡**:
   ```bash
   # éªŒè¯ç‰ˆæœ¬æå–å’Œæ ¼å¼
   VERSION=$(grep -m 1 '^## \[' CHANGELOG.md | sed -n 's/^## \[\(.*\)\].*/\1/p')
   echo "æå–çš„ç‰ˆæœ¬: $VERSION"
   
   # æ£€æŸ¥æ˜¯å¦ä¸ºå‘å¸ƒç‰ˆæœ¬ï¼ˆä¸åº”è¯¥æ˜¯ Unreleasedï¼‰
   if [ "$VERSION" = "Unreleased" ] || [ "$VERSION" = "æœªå‘å¸ƒ" ]; then
     echo "âŒ ä»ç„¶æ˜¯ Unreleased çŠ¶æ€ï¼Œå·¥ä½œæµä¸ä¼šè§¦å‘"
   else
     echo "âœ… å‡†å¤‡å°±ç»ªï¼Œç‰ˆæœ¬: $VERSION"
   fi
   ```

#### æ­£ç¡®çš„å‘å¸ƒå‡†å¤‡æ£€æŸ¥æ¸…å•
å‡†å¤‡å‘å¸ƒæ—¶ï¼Œå¿…é¡»ç¡®ä¿ï¼š
- [ ] å°† `[æœªå‘å¸ƒ]` è½¬æ¢ä¸º `[X.Y.Z] - YYYY-MM-DD` æ ¼å¼
- [ ] å®Œå…¨ç§»é™¤ä»»ä½•ç©ºçš„ `[æœªå‘å¸ƒ]` / `[Unreleased]` éƒ¨åˆ†
- [ ] æ–°ç‰ˆæœ¬æ¡ç›®ä½äºæ–‡ä»¶æœ€é¡¶éƒ¨ï¼ˆåœ¨æ ‡é¢˜å’Œä»‹ç»ä¹‹åï¼‰
- [ ] ç‰ˆæœ¬å·éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ
- [ ] è‹±æ–‡å’Œä¸­æ–‡ CHANGELOG åŒæ­¥æ›´æ–°
- [ ] **ä¸è¦åœ¨å‘å¸ƒå‰æ·»åŠ æ–°çš„ `[æœªå‘å¸ƒ]` éƒ¨åˆ†**ï¼ˆè¿™åº”è¯¥åœ¨å‘å¸ƒåè¿›è¡Œï¼Œå‡†å¤‡ä¸‹ä¸€ä¸ªå¼€å‘å‘¨æœŸï¼‰
- [ ] ç‰ˆæœ¬å·æ›´æ–°äº† `pyproject.toml` å’Œ `openwebui_chat_client/__init__.py`
- [ ] æ£€æŸ¥æ˜¯å¦å­˜åœ¨æ¯”æ–°ç‰ˆæœ¬æ›´é«˜çš„ç‰ˆæœ¬å·æ ‡ç­¾ï¼ˆä¼šå½±å“ç‰ˆæœ¬å‡çº§ï¼‰

---

## APIè®¾è®¡æ ‡å‡†

### 1. æ–¹æ³•å‘½åè§„èŒƒ

#### æ ¸å¿ƒæ–¹æ³•ç±»å‹
- **èŠå¤©ç›¸å…³**: `chat()`, `stream_chat()`, `parallel_chat()`
- **ç®¡ç†ç›¸å…³**: `list_*()`, `get_*()`, `create_*()`, `update_*()`, `delete_*()` 
- **æ‰¹é‡æ“ä½œ**: `*_all()`, `*_by_keyword()`
- **çŠ¶æ€ç®¡ç†**: `rename_*()`, `set_*()`, `switch_*()`

#### å‚æ•°è®¾è®¡åŸåˆ™
- **å¿…éœ€å‚æ•°**: æ”¾åœ¨å‰é¢ï¼Œç±»å‹æ˜ç¡®
- **å¯é€‰å‚æ•°**: ä½¿ç”¨é»˜è®¤å€¼ï¼Œæ”¯æŒNone
- **æ‰¹é‡å‚æ•°**: ä½¿ç”¨Listç±»å‹ï¼Œæ”¯æŒç©ºåˆ—è¡¨
- **æ ‡è¯†å‚æ•°**: ä½¿ç”¨å­—ç¬¦ä¸²IDï¼Œæ”¯æŒéªŒè¯

### 2. è¿”å›å€¼æ ‡å‡†

#### æˆåŠŸè¿”å›
- **å•ä¸€å¯¹è±¡**: è¿”å›DictåŒ…å«æ ¸å¿ƒæ•°æ®å’Œå…ƒæ•°æ®
- **åˆ—è¡¨å¯¹è±¡**: è¿”å›List[Dict]æˆ–ç©ºåˆ—è¡¨
- **æ“ä½œç»“æœ**: è¿”å›åŒ…å«çŠ¶æ€å’Œç›¸å…³IDçš„Dict

#### å¤±è´¥å¤„ç†
- **è¿”å›None**: å½“æ“ä½œå¤±è´¥ä¸”å¯æ¢å¤æ—¶
- **æŠ›å‡ºå¼‚å¸¸**: å½“é‡åˆ°ä¸å¯æ¢å¤çš„é”™è¯¯æ—¶
- **è®°å½•æ—¥å¿—**: æ‰€æœ‰å¤±è´¥æƒ…å†µéƒ½å¿…é¡»è®°å½•è¯¦ç»†æ—¥å¿—

### 3. å¹¶å‘å¤„ç†

#### ThreadPoolExecutorä½¿ç”¨
- ç”¨äºå¹¶è¡ŒAPIè¯·æ±‚
- æå‡æ‰¹é‡æ“ä½œæ•ˆç‡
- åˆç†æ§åˆ¶å¹¶å‘æ•°é‡

#### ç¤ºä¾‹æ¨¡å¼
```python
def parallel_operation(self, items: List[str]) -> Dict[str, Any]:
    results = {}
    with ThreadPoolExecutor(max_workers=5) as executor:
        future_to_item = {
            executor.submit(self._single_operation, item): item 
            for item in items
        }
        for future in as_completed(future_to_item):
            item = future_to_item[future]
            try:
                results[item] = future.result()
            except Exception as e:
                logger.error(f"Failed to process {item}: {e}")
                results[item] = None
    return results
```

---

---

## é€‰æ‹©æ€§é›†æˆæµ‹è¯•ç³»ç»Ÿ

### 1. æµ‹è¯•ç³»ç»Ÿæ¦‚è¿°

#### æ™ºèƒ½æµ‹è¯•é€‰æ‹©
openwebui-chat-clienté¡¹ç›®é‡‡ç”¨**æ™ºèƒ½é€‰æ‹©æ€§é›†æˆæµ‹è¯•ç³»ç»Ÿ**ï¼Œæ ¹æ®ä»£ç å˜æ›´è‡ªåŠ¨é€‰æ‹©ç›¸å…³æµ‹è¯•ç±»åˆ«ï¼Œæ˜¾è‘—æå‡CIæ•ˆç‡ï¼š

- **å˜æ›´åˆ†æ**: è‡ªåŠ¨åˆ†æPR/pushä¸­çš„æ–‡ä»¶å˜æ›´ï¼Œæ”¯æŒå¤šç§GitHubäº‹ä»¶ç±»å‹
- **æ¨¡å¼åŒ¹é…**: æ ¹æ®`.github/test-mapping.yml`é…ç½®æ˜ å°„æµ‹è¯•ç±»åˆ«
- **å¹¶è¡Œæ‰§è¡Œ**: ä½¿ç”¨GitHub ActionsçŸ©é˜µç­–ç•¥å¹¶è¡Œè¿è¡Œ
- **æ‰‹åŠ¨è¦†ç›–**: æä¾›å®Œæ•´æµ‹è¯•çš„æ‰‹åŠ¨è§¦å‘é€‰é¡¹
- **äº‹ä»¶ç±»å‹é€‚é…**: æ­£ç¡®å¤„ç†`workflow_run`ã€`push`ã€`pull_request`ç­‰ä¸åŒäº‹ä»¶ç±»å‹

#### æµ‹è¯•æ•ˆç‡æå‡
- **ä¼˜åŒ–å‰**: æ¯æ¬¡å˜æ›´è¿è¡Œå…¨éƒ¨8ä¸ªé›†æˆæµ‹è¯•ç±»åˆ«ï¼ˆåŒ…æ‹¬è¿ç»­å¯¹è¯æµ‹è¯•ï¼‰
- **ä¼˜åŒ–å**: ä»…è¿è¡Œç›¸å…³æµ‹è¯•ç±»åˆ«ï¼ˆé€šå¸¸1-3ä¸ªï¼‰
- **æ—¶é—´èŠ‚çœ**: CIè¿è¡Œæ—¶é—´å‡å°‘60-80%
- **èµ„æºèŠ‚çº¦**: æ˜¾è‘—é™ä½GitHub Actionsä½¿ç”¨é‡

#### å·¥ä½œæµäº‹ä»¶å¤„ç†
- **workflow_runäº‹ä»¶**: ä»ä¸»æµ‹è¯•å·¥ä½œæµè§¦å‘æ—¶ï¼Œæ­£ç¡®è·å–å˜æ›´æ–‡ä»¶çš„SHAä¸Šä¸‹æ–‡
- **ç›´æ¥è§¦å‘äº‹ä»¶**: æ”¯æŒpushå’ŒPRçš„ç›´æ¥è§¦å‘ï¼Œä½¿ç”¨å½“å‰åˆ†æ”¯çš„SHA
- **SHAä¸Šä¸‹æ–‡ç®¡ç†**: ç¡®ä¿æ–‡ä»¶å˜æ›´æ£€æµ‹åœ¨æ‰€æœ‰äº‹ä»¶ç±»å‹ä¸­éƒ½èƒ½æ­£ç¡®å·¥ä½œ

### 2. æµ‹è¯•é…ç½®ç®¡ç†

#### `.github/test-mapping.yml` é…ç½®æ–‡ä»¶
è¿™æ˜¯æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰æ–‡ä»¶æ¨¡å¼åˆ°æµ‹è¯•ç±»åˆ«çš„æ˜ å°„ï¼š

```yaml
# æµ‹è¯•ç±»åˆ«å®šä¹‰
test_categories:
  connectivity:
    name: "Basic Connectivity Test"
    command: "python -c \"...\""  # åŸºç¡€è¿æ¥æµ‹è¯•
    description: "Tests basic client connectivity"
  
  basic_chat:
    name: "Basic Usage Integration Test"
    command: "python examples/getting_started/basic_chat.py"
    description: "Tests basic chat functionality"

# æ–‡ä»¶æ¨¡å¼æ˜ å°„
file_mappings:
  - pattern: "openwebui_chat_client/openwebui_chat_client.py"
    categories: ["connectivity", "basic_chat", "model_management"]
  
  - pattern: "examples/notes_api/**"
    categories: ["notes_api"]
```

#### é…ç½®ç»´æŠ¤åŸåˆ™
- **ç²¾ç¡®æ˜ å°„**: ç¡®ä¿æ–‡ä»¶å˜æ›´è§¦å‘æœ€ç›¸å…³çš„æµ‹è¯•
- **é¿å…è¿‡åº¦æµ‹è¯•**: ä¸è¦ä¸ºå°å˜æ›´è§¦å‘è¿‡å¤šæµ‹è¯•ç±»åˆ«
- **ä¿è¯è¦†ç›–**: é‡è¦åŠŸèƒ½å˜æ›´å¿…é¡»æœ‰å¯¹åº”æµ‹è¯•
- **é»˜è®¤å®‰å…¨**: æœªåŒ¹é…æ¨¡å¼æ—¶è¿è¡Œæ ¸å¿ƒæµ‹è¯•

### 3. æµ‹è¯•ç±»åˆ«æ ‡å‡†

#### æ ‡å‡†æµ‹è¯•ç±»åˆ«
é¡¹ç›®å®šä¹‰äº†ä»¥ä¸‹æ ‡å‡†æµ‹è¯•ç±»åˆ«ï¼š

| ç±»åˆ« | ç”¨é€” | æµ‹è¯•å‘½ä»¤ | è§¦å‘æ¡ä»¶ |
|------|------|----------|----------|
| `connectivity` | åŸºç¡€è¿æ¥éªŒè¯ | Pythonå®¢æˆ·ç«¯è¿æ¥æµ‹è¯• | æ ¸å¿ƒæ–‡ä»¶ã€é…ç½®å˜æ›´ |
| `basic_chat` | åŸºç¡€èŠå¤©åŠŸèƒ½ | `examples/getting_started/basic_chat.py` | èŠå¤©ç›¸å…³ä»£ç å˜æ›´ |
| `notes_api` | ç¬”è®°APIåŠŸèƒ½ | `examples/notes_api/basic_notes.py` | ç¬”è®°ç›¸å…³æ–‡ä»¶å˜æ›´ |
| `rag_integration` | RAGé›†æˆæµ‹è¯• | `examples/rag_knowledge/file_rag.py` | RAGã€çŸ¥è¯†åº“ç›¸å…³å˜æ›´ |
| `model_management` | æ¨¡å‹ç®¡ç† | `examples/model_management/model_operations.py` | æ¨¡å‹ç›¸å…³åŠŸèƒ½å˜æ›´ |
| `model_switching` | æ¨¡å‹åˆ‡æ¢ | `examples/chat_features/model_switching.py` | æ¨¡å‹åˆ‡æ¢åŠŸèƒ½å˜æ›´ |
| `comprehensive_demos` | ç»¼åˆæ¼”ç¤º | `examples/getting_started/quick_start.py` | å¤æ‚åŠŸèƒ½ã€ç¤ºä¾‹å˜æ›´ |
| `continuous_conversation` | è¿ç»­å¯¹è¯åŠŸèƒ½ | `examples/advanced_features/continuous_conversation.py` | è¿ç»­å¯¹è¯ç›¸å…³å˜æ›´ |

#### æ–°æµ‹è¯•ç±»åˆ«æ·»åŠ æµç¨‹
1. **å®šä¹‰æµ‹è¯•ç›®æ ‡**: æ˜ç¡®æµ‹è¯•ç±»åˆ«è¦éªŒè¯çš„åŠŸèƒ½
2. **åˆ›å»ºæµ‹è¯•å‘½ä»¤**: åœ¨`test-mapping.yml`ä¸­æ·»åŠ æµ‹è¯•å®šä¹‰
3. **é…ç½®æ–‡ä»¶æ˜ å°„**: æ·»åŠ ç›¸åº”çš„`file_mappings`è§„åˆ™
4. **éªŒè¯æµ‹è¯•**: ç¡®ä¿æµ‹è¯•å‘½ä»¤å¯ä»¥ç‹¬ç«‹æ‰§è¡Œ
5. **æ›´æ–°æ–‡æ¡£**: åœ¨é›†æˆæµ‹è¯•æ–‡æ¡£ä¸­è¯´æ˜æ–°ç±»åˆ«

### 4. è„šæœ¬å·¥å…·ä½¿ç”¨

#### `.github/scripts/detect_required_tests.py`
æµ‹è¯•æ£€æµ‹è„šæœ¬ï¼Œåˆ†æå˜æ›´æ–‡ä»¶å¹¶ç¡®å®šéœ€è¦è¿è¡Œçš„æµ‹è¯•ï¼š

```bash
# æ£€æµ‹å½“å‰åˆ†æ”¯ç›¸å¯¹äºmainçš„å˜æ›´éœ€è¦çš„æµ‹è¯•
python .github/scripts/detect_required_tests.py

# æ£€æµ‹ç‰¹å®šæ–‡ä»¶å˜æ›´éœ€è¦çš„æµ‹è¯•
python .github/scripts/detect_required_tests.py --files "file1.py,file2.py"

# è¾“å‡ºè¯¦ç»†æ˜ å°„ä¿¡æ¯
python .github/scripts/detect_required_tests.py --verbose
```

#### `.github/scripts/run_all_integration_tests.py`
å®Œæ•´é›†æˆæµ‹è¯•è¿è¡Œå™¨ï¼Œç”¨äºæ‰‹åŠ¨æ‰§è¡Œï¼š

```bash
# è¿è¡Œæ‰€æœ‰é›†æˆæµ‹è¯•
python .github/scripts/run_all_integration_tests.py

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»åˆ«
python .github/scripts/run_all_integration_tests.py --category notes_api

# åˆ—å‡ºæ‰€æœ‰å¯ç”¨æµ‹è¯•ç±»åˆ«
python .github/scripts/run_all_integration_tests.py --list-categories

# å¹¶è¡Œè¿è¡Œï¼ˆé»˜è®¤ï¼‰
python .github/scripts/run_all_integration_tests.py --parallel

# ä¸²è¡Œè¿è¡Œï¼ˆè°ƒè¯•ç”¨ï¼‰
python .github/scripts/run_all_integration_tests.py --no-parallel
```

#### `run_integration_tests.py` (æ ¹ç›®å½•)
ç”¨æˆ·å‹å¥½çš„æµ‹è¯•è¿è¡Œå™¨ï¼Œç®€åŒ–æœ¬åœ°å¼€å‘ä½“éªŒï¼š

```bash
# ç®€å•è¿è¡Œ
python run_integration_tests.py

# è¿è¡Œç‰¹å®šç±»åˆ«
python run_integration_tests.py --category basic_chat
```

### 5. GitHub Actionsé›†æˆ

#### å·¥ä½œæµé…ç½®è¦ç‚¹
`.github/workflows/integration-test.yml`é…ç½®è¦ç‚¹ï¼š

```yaml
# æ”¯æŒå¤šç§è§¦å‘äº‹ä»¶
on:
  workflow_run:
    workflows: ["Test"]
    types: [completed]
  push:
    branches: [main, master]
  pull_request:
    branches: [main, master]
  workflow_dispatch:  # æ‰‹åŠ¨è§¦å‘æ”¯æŒ

# åŠ¨æ€æ–‡ä»¶å˜æ›´æ£€æµ‹
detect-changes:
  steps:
  - uses: actions/checkout@v4
    with:
      fetch-depth: 0  # éœ€è¦å®Œæ•´å†å²è¿›è¡Œgit diff
      # ä¸ºworkflow_runäº‹ä»¶ä½¿ç”¨æ­£ç¡®çš„commit SHA
      ref: ${{ github.event_name == 'workflow_run' && github.event.workflow_run.head_sha || github.sha }}

# ä½¿ç”¨çŸ©é˜µç­–ç•¥å¹¶è¡Œè¿è¡Œé€‰å®šçš„æµ‹è¯•ç±»åˆ«
strategy:
  matrix:
    test-category: ${{ fromJson(needs.detect-tests.outputs.test-categories) }}
  fail-fast: false  # å…è®¸éƒ¨åˆ†æµ‹è¯•å¤±è´¥æ—¶ç»§ç»­å…¶ä»–æµ‹è¯•

# ç¯å¢ƒå˜é‡ä¼ é€’å’ŒéªŒè¯
env:
  OUI_BASE_URL: ${{ github.event.inputs.base_url || secrets.OUI_BASE_URL }}
  OUI_AUTH_TOKEN: ${{ github.event.inputs.auth_token || secrets.OUI_AUTH_TOKEN }}
  OUI_DEFAULT_MODEL: ${{ github.event.inputs.default_model || secrets.OUI_DEFAULT_MODEL }}
```

#### æ–‡ä»¶å˜æ›´æ£€æµ‹æœºåˆ¶
å·¥ä½œæµä½¿ç”¨æ™ºèƒ½æ–‡ä»¶å˜æ›´æ£€æµ‹ï¼š

1. **SHAä¸Šä¸‹æ–‡å¤„ç†**: 
   - `workflow_run`äº‹ä»¶: ä½¿ç”¨`github.event.workflow_run.head_sha`
   - ç›´æ¥è§¦å‘äº‹ä»¶: ä½¿ç”¨`github.sha`
   - ç¡®ä¿åœ¨æ‰€æœ‰è§¦å‘ç±»å‹ä¸­éƒ½èƒ½æ­£ç¡®æ£€æµ‹å˜æ›´

2. **Git Diffç­–ç•¥**:
   - ä¼˜å…ˆä½¿ç”¨ä¸‰ç‚¹æ¯”è¾ƒ: `git diff --name-only base...head`
   - å›é€€åˆ°å•æäº¤æ¯”è¾ƒ: `git diff --name-only HEAD~1 HEAD`
   - æ”¯æŒå¤šç§åˆ†æ”¯å’Œå¼•ç”¨ç±»å‹

3. **è°ƒè¯•å’Œæ•…éšœæ’é™¤**:
   - ä¸ºworkflow_runäº‹ä»¶æä¾›è¯¦ç»†çš„è°ƒè¯•è¾“å‡º
   - è®°å½•å…³é”®çš„SHAå’Œåˆ†æ”¯ä¿¡æ¯
   - ä¾¿äºé—®é¢˜è¯Šæ–­å’Œä¿®å¤

#### æ‰‹åŠ¨è§¦å‘å®Œæ•´æµ‹è¯•
å¼€å‘è€…å¯ä»¥é€šè¿‡GitHub UIæ‰‹åŠ¨è§¦å‘å®Œæ•´æµ‹è¯•ï¼š

1. è®¿é—®Actionsé¡µé¢
2. é€‰æ‹©"Integration Test"å·¥ä½œæµ
3. ç‚¹å‡»"Run workflow"
4. é…ç½®å‚æ•°:
   - è®¾ç½®`run_all_tests`ä¸º`true`è¿è¡Œæ‰€æœ‰æµ‹è¯•
   - å¯é€‰æ‹©è¦†ç›–ç¯å¢ƒå˜é‡ (base_url, auth_tokenç­‰)
   - æŒ‡å®šç‰¹å®šçš„æ¨¡å‹è¿›è¡Œæµ‹è¯•

#### ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§
å·¥ä½œæµæ”¯æŒçµæ´»çš„ç¯å¢ƒå˜é‡é…ç½®ï¼š

1. **æ‰‹åŠ¨è¾“å…¥å‚æ•°** (æœ€é«˜ä¼˜å…ˆçº§): workflow_dispatchè¾“å…¥
2. **ä»“åº“Secrets** (é»˜è®¤): å­˜å‚¨çš„åŠ å¯†ç¯å¢ƒå˜é‡
3. **é»˜è®¤å€¼** (å…œåº•): ç¡¬ç¼–ç çš„åˆç†é»˜è®¤å€¼

### 6. å¼€å‘æœ€ä½³å®è·µ

#### åŠŸèƒ½å¼€å‘æ—¶çš„æµ‹è¯•ç­–ç•¥
- **åŸå­åŒ–å˜æ›´**: æ¯æ¬¡æäº¤ä¸“æ³¨äºå•ä¸€åŠŸèƒ½ï¼Œä¾¿äºç²¾ç¡®æµ‹è¯•
- **æœ¬åœ°éªŒè¯**: ä½¿ç”¨æœ¬åœ°æµ‹è¯•è„šæœ¬éªŒè¯å˜æ›´
- **æµ‹è¯•æ˜ å°„æ£€æŸ¥**: ç¡®è®¤æ–‡ä»¶å˜æ›´è§¦å‘äº†æ­£ç¡®çš„æµ‹è¯•ç±»åˆ«
- **CIåé¦ˆ**: å…³æ³¨CIç»“æœï¼Œå¿…è¦æ—¶æ‰‹åŠ¨è§¦å‘å®Œæ•´æµ‹è¯•

#### æµ‹è¯•é…ç½®ç»´æŠ¤
- **å®šæœŸå®¡æŸ¥**: å®šæœŸæ£€æŸ¥æµ‹è¯•æ˜ å°„çš„å‡†ç¡®æ€§
- **æ–°åŠŸèƒ½é€‚é…**: æ–°åŠŸèƒ½å¼€å‘æ—¶åŒæ­¥æ›´æ–°æµ‹è¯•æ˜ å°„
- **æ€§èƒ½ç›‘æ§**: å…³æ³¨æµ‹è¯•æ‰§è¡Œæ—¶é—´ï¼Œä¼˜åŒ–æ…¢é€Ÿæµ‹è¯•
- **è¦†ç›–ç‡æ£€æŸ¥**: ç¡®ä¿é‡è¦ä»£ç è·¯å¾„æœ‰ç›¸åº”æµ‹è¯•è¦†ç›–

#### æ•…éšœæ’é™¤æŒ‡å—
- **æµ‹è¯•å¤±è´¥åˆ†æ**: åŒºåˆ†æ˜¯ä»£ç é—®é¢˜è¿˜æ˜¯æµ‹è¯•ç¯å¢ƒé—®é¢˜
- **æ˜ å°„è°ƒè¯•**: ä½¿ç”¨`detect_required_tests.py`éªŒè¯æ–‡ä»¶æ˜ å°„
- **æœ¬åœ°å¤ç°**: åœ¨æœ¬åœ°ç¯å¢ƒå¤ç°CIæµ‹è¯•å¤±è´¥
- **ç¯å¢ƒå˜é‡**: ç¡®ä¿æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡æ­£ç¡®é…ç½®
- **å·¥ä½œæµäº‹ä»¶è°ƒè¯•**: æ£€æŸ¥workflow_runäº‹ä»¶çš„SHAä¸Šä¸‹æ–‡æ˜¯å¦æ­£ç¡®
- **æ–‡ä»¶å˜æ›´éªŒè¯**: ç¡®è®¤æ–‡ä»¶å˜æ›´æ£€æµ‹é€»è¾‘æ­£ç¡®è¯†åˆ«äº†ä¿®æ”¹çš„æ–‡ä»¶

#### å¸¸è§é—®é¢˜è§£å†³
1. **å·¥ä½œæµæœªè§¦å‘é›†æˆæµ‹è¯•**:
   - æ£€æŸ¥ä¸»æµ‹è¯•å·¥ä½œæµæ˜¯å¦æˆåŠŸå®Œæˆ
   - éªŒè¯æ–‡ä»¶å˜æ›´æ˜¯å¦åŒ¹é…ä»»ä½•æ˜ å°„æ¨¡å¼
   - ç¡®è®¤ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®

2. **æ–‡ä»¶å˜æ›´æ£€æµ‹å¤±è´¥**:
   - æ£€æŸ¥gitå†å²å®Œæ•´æ€§ (`fetch-depth: 0`)
   - éªŒè¯åˆ†æ”¯å¼•ç”¨å’ŒSHAä¸Šä¸‹æ–‡
   - ç¡®è®¤`detect_required_tests.py`è„šæœ¬æ­£å¸¸è¿è¡Œ

3. **çŸ©é˜µç­–ç•¥æµ‹è¯•å¤±è´¥**:
   - æ£€æŸ¥æµ‹è¯•ç±»åˆ«JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
   - éªŒè¯å„ä¸ªæµ‹è¯•å‘½ä»¤æ˜¯å¦å¯ç‹¬ç«‹æ‰§è¡Œ
   - ç¡®è®¤æµ‹è¯•ç¯å¢ƒä¾èµ–é¡¹å®Œæ•´å®‰è£…

### 8. å·¥ä½œæµäº‹ä»¶å¤„ç†è¯¦è§£

#### workflow_run äº‹ä»¶å¤„ç†
`workflow_run`äº‹ä»¶æ˜¯é€‰æ‹©æ€§æµ‹è¯•ç³»ç»Ÿçš„æ ¸å¿ƒè§¦å‘æœºåˆ¶ï¼š

```yaml
# æ­£ç¡®çš„workflow_runé…ç½®
on:
  workflow_run:
    workflows: ["Test"]  # ä¾èµ–ä¸»æµ‹è¯•å·¥ä½œæµ
    types: [completed]   # åªæœ‰æˆåŠŸå®Œæˆåæ‰è§¦å‘
    branches: [main, master]
```

#### å…³é”®ä¿®å¤ç‚¹
è¿‘æœŸä¿®å¤äº†ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š

1. **SHAä¸Šä¸‹æ–‡è·å–**:
   ```yaml
   # ä¿®å¤å‰: ä½¿ç”¨é”™è¯¯çš„github.sha
   ref: ${{ github.sha }}
   
   # ä¿®å¤å: æ ¹æ®äº‹ä»¶ç±»å‹ä½¿ç”¨æ­£ç¡®çš„SHA
   ref: ${{ github.event_name == 'workflow_run' && github.event.workflow_run.head_sha || github.sha }}
   ```

2. **æ–‡ä»¶å˜æ›´æ£€æµ‹é€»è¾‘**:
   ```bash
   # å¢å¼ºè°ƒè¯•è¾“å‡º
   if [ "${{ github.event_name }}" = "workflow_run" ]; then
     echo "ğŸ” Workflow run context:"
     echo "  - Head SHA: ${{ github.event.workflow_run.head_sha }}"
     echo "  - Head Branch: ${{ github.event.workflow_run.head_branch }}"
   fi
   ```

3. **ç¯å¢ƒå˜é‡ä¼ é€’**:
   ```yaml
   env:
     WORKFLOW_RUN_HEAD_SHA: ${{ github.event.workflow_run.head_sha }}
     WORKFLOW_RUN_HEAD_BRANCH: ${{ github.event.workflow_run.head_branch }}
     GITHUB_EVENT_NAME: ${{ github.event_name }}
   ```

#### äº‹ä»¶ç±»å‹ä¼˜å…ˆçº§
å·¥ä½œæµæ”¯æŒå¤šç§è§¦å‘æ–¹å¼ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºï¼š

1. **workflow_dispatch** (æ‰‹åŠ¨è§¦å‘): æœ€é«˜ä¼˜å…ˆçº§ï¼Œæ”¯æŒå®Œå…¨æ§åˆ¶
2. **workflow_run** (è‡ªåŠ¨è§¦å‘): æ ‡å‡†CIæµç¨‹
3. **push/pull_request** (ç›´æ¥è§¦å‘): å¼€å‘è¿‡ç¨‹ä¸­çš„å³æ—¶åé¦ˆ

#### æµ‹è¯•ç»“æœæ±‡æ€»
å·¥ä½œæµæä¾›è¯¦ç»†çš„æµ‹è¯•ç»“æœæ±‡æ€»ï¼š

```yaml
integration-test-summary:
  steps:
  - name: Integration Test Summary
    run: |
      echo '${{ needs.detect-changes.outputs.required-tests }}' | jq -r '.[]' | while read category; do
        echo "  âœ… $category"
      done
```

### 9. é«˜çº§é…ç½®å’Œä¼˜åŒ–

#### æµ‹è¯•å¹¶è¡Œåº¦æ§åˆ¶
é€šè¿‡GitHub ActionsçŸ©é˜µç­–ç•¥å®ç°æœ€ä¼˜å¹¶è¡Œåº¦ï¼š

```yaml
strategy:
  matrix:
    test-category: ${{ fromJson(needs.detect-tests.outputs.test-categories) }}
  fail-fast: false  # å…³é”®ï¼šå…è®¸éƒ¨åˆ†å¤±è´¥ç»§ç»­æ‰§è¡Œ
  max-parallel: 8   # å¯é€‰ï¼šé™åˆ¶æœ€å¤§å¹¶è¡Œæ•°
```

#### æ¡ä»¶æ‰§è¡Œé€»è¾‘
æ™ºèƒ½çš„æ¡ä»¶æ‰§è¡Œç¡®ä¿èµ„æºæœ‰æ•ˆåˆ©ç”¨ï¼š

```yaml
# åªæœ‰åœ¨æµ‹è¯•å·¥ä½œæµæˆåŠŸæ—¶æ‰æ‰§è¡Œ
if: ${{ github.event_name != 'workflow_run' || github.event.workflow_run.conclusion == 'success' }}

# åªæœ‰åœ¨æ£€æµ‹åˆ°ç›¸å…³å˜æ›´æ—¶æ‰æ‰§è¡Œæµ‹è¯•
if: ${{ needs.detect-changes.outputs.required-tests != '[]' }}
```

#### è¶…æ—¶å’Œé‡è¯•é…ç½®
ä¸ºé•¿æ—¶é—´è¿è¡Œçš„é›†æˆæµ‹è¯•é…ç½®åˆç†çš„è¶…æ—¶ï¼š

```yaml
# åœ¨test-mapping.ymlä¸­é…ç½®
test_categories:
  comprehensive_demos:
    timeout: 1200  # 10åˆ†é’Ÿè¶…æ—¶
    retry: 2      # å¤±è´¥æ—¶é‡è¯•2æ¬¡
```

### 10. é…ç½®æ–‡ä»¶æ›´æ–°æŒ‡å—

#### æ·»åŠ æ–°æ–‡ä»¶æ˜ å°„
å½“é¡¹ç›®ç»“æ„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦æ›´æ–°æ–‡ä»¶æ˜ å°„ï¼š

```yaml
# ç¤ºä¾‹ï¼šæ·»åŠ æ–°çš„APIæ¨¡å—æ˜ å°„
- pattern: "openwebui_chat_client/**/api_*"
  categories: ["connectivity", "basic_chat"]

# ç¤ºä¾‹ï¼šæ·»åŠ æ–°çš„ç¤ºä¾‹ç›®å½•æ˜ å°„  
- pattern: "examples/new_feature/**"
  categories: ["new_feature_test", "comprehensive_demos"]

# ç¤ºä¾‹ï¼šæ·»åŠ è¿ç»­å¯¹è¯ç›¸å…³æ˜ å°„
- pattern: "**/*continuous*"
  categories: ["continuous_conversation", "comprehensive_demos"]
```

#### æµ‹è¯•ç±»åˆ«é…ç½®æ›´æ–°
æ·»åŠ æ–°æµ‹è¯•ç±»åˆ«æ—¶çš„å®Œæ•´é…ç½®ï¼š

```yaml
test_categories:
  new_feature_test:
    name: "New Feature Integration Test"
    command: "python examples/new_feature/test_new_feature.py"
    description: "Tests new feature functionality"
    timeout: 1200  # å¯é€‰ï¼šæµ‹è¯•è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    retry: 1      # å¯é€‰ï¼šå¤±è´¥é‡è¯•æ¬¡æ•°
```

#### éªŒè¯é…ç½®æ›´æ–°
é…ç½®æ›´æ–°åçš„éªŒè¯æ­¥éª¤ï¼š

1. **æœ¬åœ°éªŒè¯æµ‹è¯•æ˜ å°„**:
   ```bash
   python .github/scripts/detect_required_tests.py --files "your_changed_file.py" --verbose
   ```

2. **æµ‹è¯•å‘½ä»¤éªŒè¯**:
   ```bash
   python .github/scripts/run_all_integration_tests.py --category new_category --verbose
   ```

3. **å·¥ä½œæµè¯­æ³•æ£€æŸ¥**:
   ```bash
   # ä½¿ç”¨GitHub CLIéªŒè¯å·¥ä½œæµè¯­æ³•
   gh workflow view integration-test.yml
   ```

---

## CI/CDä¸å‘å¸ƒæµç¨‹

### 1. GitHub Actionså·¥ä½œæµ

#### æµ‹è¯•å·¥ä½œæµ (test.yml)
- **è§¦å‘æ¡ä»¶**: pushåˆ°main/masteråˆ†æ”¯ï¼ŒPRåˆ°main/master
- **Pythonç‰ˆæœ¬**: 3.8, 3.9, 3.10, 3.11, 3.12, 3.13
- **æµ‹è¯•å‘½ä»¤**: `python -m unittest discover -s tests -p "test_*.py" -v`

#### é›†æˆæµ‹è¯• (integration-test.yml)
- **ç”¨é€”**: æ›´å…¨é¢çš„é›†æˆæµ‹è¯•ï¼Œé‡‡ç”¨æ™ºèƒ½é€‰æ‹©æ€§æµ‹è¯•
- **ç¯å¢ƒ**: çœŸå®OpenWebUIæœåŠ¡å™¨ç¯å¢ƒ
- **é€‰æ‹©æ€§æµ‹è¯•**: æ ¹æ®å˜æ›´æ–‡ä»¶è‡ªåŠ¨é€‰æ‹©ç›¸å…³æµ‹è¯•ç±»åˆ«
- **å¹¶è¡Œæ‰§è¡Œ**: ä½¿ç”¨GitHub ActionsçŸ©é˜µç­–ç•¥å¹¶è¡Œè¿è¡Œæµ‹è¯•

#### å‘å¸ƒå·¥ä½œæµ (publish.yml)
- **è§¦å‘æ¡ä»¶**: æ¨é€æ ‡ç­¾ `v*`
- **æµç¨‹**: æµ‹è¯• -> æ„å»º -> å‘å¸ƒåˆ°PyPI -> åˆ›å»ºGitHub Release
- **ä¾èµ–**: PYPI_API_TOKENå¯†é’¥

#### ç‰ˆæœ¬å·è§„èŒƒ
- éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ (Semantic Versioning)
- æ ¼å¼: `MAJOR.MINOR.PATCH`
- å½“å‰ç‰ˆæœ¬: 0.1.12

---

## ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ

### ç‰ˆæœ¬å·ç”Ÿå‘½å‘¨æœŸ
é¡¹ç›®é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ (SemVer: X.Y.Z)ï¼Œæ¯ä¸ªç‰ˆæœ¬å·éµå¾ªä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸï¼š

1. **å¼€å‘é˜¶æ®µ**: 
   - ç‰ˆæœ¬å·è®¾å®šä¸ºç›®æ ‡å‘å¸ƒç‰ˆæœ¬ï¼ˆå¦‚ `0.1.22`ï¼‰
   - CHANGELOG ä¸­ä½¿ç”¨ `[æœªå‘å¸ƒ]` / `[Unreleased]` éƒ¨åˆ†è®°å½•æ›´æ”¹
   - ä¸åŒçš„æ–°åŠŸèƒ½ã€ä¿®å¤ä¸æ–­æ·»åŠ åˆ°æ­¤éƒ¨åˆ†

2. **å‘å¸ƒå‡†å¤‡é˜¶æ®µ**:
   - CHANGELOG: å°† `[æœªå‘å¸ƒ]` è½¬æ¢ä¸º `[X.Y.Z] - YYYY-MM-DD` æ ¼å¼
   - åŒæ­¥æ›´æ–°ä¸¤ä¸ªæ–‡ä»¶: `pyproject.toml` å’Œ `openwebui_chat_client/__init__.py`
   - **å…³é”®**: å®Œå…¨åˆ é™¤ `[æœªå‘å¸ƒ]` / `[Unreleased]` éƒ¨åˆ†ï¼Œä¸ç•™ç©ºè¡Œ

3. **å‘å¸ƒé˜¶æ®µ**:
   - æ¨é€ CHANGELOG æ›´æ”¹åˆ° GitHub
   - å‘å¸ƒå·¥ä½œæµè‡ªåŠ¨æ£€æµ‹ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ¡ç›®æ˜¯å¦ä¸ºæœ‰æ•ˆç‰ˆæœ¬å·
   - å¦‚æœæ˜¯æœ‰æ•ˆç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨åˆ›å»º Git æ ‡ç­¾å¹¶æ¨é€åˆ° PyPI

4. **å‘å¸ƒåé˜¶æ®µ** (å¯é€‰):
   - ä¸ºä¸‹ä¸€ä¸ªå¼€å‘å‘¨æœŸæ·»åŠ æ–°çš„ `[æœªå‘å¸ƒ]` éƒ¨åˆ†
   - è¿™æ ·å‡†å¤‡æ¥æ”¶ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„æ›´æ”¹è®°å½•

### å¸¸è§ç‰ˆæœ¬ç®¡ç†é—®é¢˜

#### é—®é¢˜ï¼šæ„å¤–å‘å¸ƒäº†é”™è¯¯çš„ç‰ˆæœ¬å·
**ç°è±¡**: å‘å¸ƒäº† 0.1.999 è¿™æ ·çš„é«˜ç‰ˆæœ¬å·ï¼Œå¯¼è‡´æ— æ³•å‘å¸ƒæ›´ä½ç‰ˆæœ¬

**åŸå› **: 
- pip ä½¿ç”¨æ•°å­—æ¯”è¾ƒé€‰æ‹©æœ€æ–°ç‰ˆæœ¬ï¼ˆ0.1.999 > 0.1.22ï¼‰
- ç”¨æˆ·æ— æ³•é€šè¿‡æ­£å¸¸å‡çº§å®‰è£… 0.1.22 ç‰ˆæœ¬

**è§£å†³æ–¹æ¡ˆ**:
1. åˆ é™¤é”™è¯¯ç‰ˆæœ¬çš„ Git æ ‡ç­¾: `git tag -d v0.1.999 && git push origin --delete v0.1.999`
2. åœ¨ PyPI ä¸Š **Yank** è¯¥ç‰ˆæœ¬ï¼ˆæ ‡è®°ä¸ºå·²æ’¤é”€ï¼Œç”¨æˆ·æ— æ³•å®‰è£…ä½†å†å²è®°å½•ä¿ç•™ï¼‰
3. å‘å¸ƒæ­£ç¡®çš„ç‰ˆæœ¬å·

#### é—®é¢˜ï¼š[æœªå‘å¸ƒ] éƒ¨åˆ†é˜»æ­¢äº†å‘å¸ƒ
**ç°è±¡**: æäº¤äº† CHANGELOG æ›´æ”¹ä½†å‘å¸ƒå·¥ä½œæµæ²¡æœ‰è§¦å‘

**åŸå› **:
- å‘å¸ƒå·¥ä½œæµæ£€æŸ¥ç¬¬ä¸€ä¸ªç‰ˆæœ¬æ¡ç›®
- å¦‚æœé¦–ä¸ªæ¡ç›®æ˜¯ `[Unreleased]` æˆ– `[æœªå‘å¸ƒ]`ï¼Œå·¥ä½œæµè®¤ä¸ºæ²¡æœ‰ç‰ˆæœ¬å‡†å¤‡å¥½å‘å¸ƒ

**è§£å†³æ–¹æ¡ˆ**:
- åœ¨å‘å¸ƒå‰ï¼Œå®Œå…¨åˆ é™¤ `[æœªå‘å¸ƒ]` éƒ¨åˆ†ï¼ˆä¸åªæ˜¯æ ‡é¢˜ï¼Œè¦åˆ é™¤æ•´ä¸ªå—ï¼‰
- ç¡®ä¿æ–°ç‰ˆæœ¬å·æ˜¯ç¬¬ä¸€ä¸ªæ¡ç›®

#### é—®é¢˜ï¼šç‰ˆæœ¬å·ä¸ä¸€è‡´å¯¼è‡´æ··æ·†
**ç°è±¡**: CHANGELOG æ˜¾ç¤º 0.1.22ï¼Œä½† PyPI ä¸Šä¸æ˜¯è¿™ä¸ªç‰ˆæœ¬

**åŸå› **:
- pyproject.toml å’Œ __init__.py ä¸­çš„ç‰ˆæœ¬å·æœªåŒæ­¥æ›´æ–°
- Git æ ‡ç­¾å’Œ CHANGELOG ä¸­çš„ç‰ˆæœ¬å·ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**:
- å§‹ç»ˆåŒæ—¶æ›´æ–°ä¸‰ä¸ªåœ°æ–¹: CHANGELOG, pyproject.toml, __init__.py
- åœ¨å‘å¸ƒå‰éªŒè¯: `grep "0.1.22" CHANGELOG.md pyproject.toml openwebui_chat_client/__init__.py`
- ç¡®ä¿ä¸‰è€…çš„ç‰ˆæœ¬å·å®Œå…¨ä¸€è‡´

### ç‰ˆæœ¬å‘å¸ƒæ¸…å•

å‘å¸ƒæ–°ç‰ˆæœ¬å‰ï¼Œæ‰§è¡Œä»¥ä¸‹å®Œæ•´æ£€æŸ¥ï¼š

```bash
#!/bin/bash
# ç‰ˆæœ¬å‘å¸ƒå‰æ£€æŸ¥è„šæœ¬

VERSION="0.1.22"
echo "ğŸ” å¼€å§‹å‘å¸ƒå‰æ£€æŸ¥ï¼Œç‰ˆæœ¬: $VERSION"

# 1. æ£€æŸ¥ç‰ˆæœ¬å·ä¸€è‡´æ€§
echo ""
echo "1ï¸âƒ£  æ£€æŸ¥ç‰ˆæœ¬å·ä¸€è‡´æ€§..."
grep "$VERSION" CHANGELOG.md > /dev/null && echo "  âœ… CHANGELOG.md" || echo "  âŒ CHANGELOG.md"
grep "$VERSION" CHANGELOG.zh-CN.md > /dev/null && echo "  âœ… CHANGELOG.zh-CN.md" || echo "  âŒ CHANGELOG.zh-CN.md"
grep "$VERSION" pyproject.toml > /dev/null && echo "  âœ… pyproject.toml" || echo "  âŒ pyproject.toml"
grep "$VERSION" openwebui_chat_client/__init__.py > /dev/null && echo "  âœ… __init__.py" || echo "  âŒ __init__.py"

# 2. æ£€æŸ¥ CHANGELOG æ ¼å¼
echo ""
echo "2ï¸âƒ£  æ£€æŸ¥ CHANGELOG æ ¼å¼..."
FIRST_VERSION=$(grep -m 1 '^## \[' CHANGELOG.md | sed -n 's/^## \[\(.*\)\].*/\1/p')
if [ "$FIRST_VERSION" = "$VERSION" ]; then
  echo "  âœ… é¦–ä¸ªç‰ˆæœ¬æ¡ç›®æ­£ç¡®: $FIRST_VERSION"
else
  echo "  âŒ é¦–ä¸ªç‰ˆæœ¬æ¡ç›®ä¸æ˜¯ $VERSION: $FIRST_VERSION"
fi

# 3. æ£€æŸ¥æ˜¯å¦å­˜åœ¨ [Unreleased]
echo ""
echo "3ï¸âƒ£  æ£€æŸ¥æ˜¯å¦å­˜åœ¨ [Unreleased]..."
if grep -q "^\## \[Unreleased\]" CHANGELOG.md; then
  echo "  âŒ å­˜åœ¨ [Unreleased] éƒ¨åˆ†"
else
  echo "  âœ… ä¸å­˜åœ¨ [Unreleased]"
fi

if grep -q "^\## \[æœªå‘å¸ƒ\]" CHANGELOG.zh-CN.md; then
  echo "  âŒ å­˜åœ¨ [æœªå‘å¸ƒ] éƒ¨åˆ†"
else
  echo "  âœ… ä¸å­˜åœ¨ [æœªå‘å¸ƒ]"
fi

# 4. æ£€æŸ¥æ˜¯å¦å­˜åœ¨é«˜äºç›®æ ‡ç‰ˆæœ¬çš„æ ‡ç­¾
echo ""
echo "4ï¸âƒ£  æ£€æŸ¥ Git æ ‡ç­¾..."
git fetch --tags
TAGS=$(git tag | grep "^v" | sort -V)
echo "  ç°æœ‰æ ‡ç­¾: $TAGS"
echo "  ç›®æ ‡ç‰ˆæœ¬: v$VERSION"

echo ""
echo "âœ… æ£€æŸ¥å®Œæˆï¼å¦‚æœä¸Šè¿°æ‰€æœ‰é¡¹éƒ½é€šè¿‡ï¼Œå‡†å¤‡å‘å¸ƒã€‚"
```

### å‘å¸ƒæµç¨‹æ­¥éª¤

```bash
# 1. ç¡®ä¿æ‰€æœ‰ä»£ç å·²æäº¤
git status

# 2. æ›´æ–° CHANGELOG å’Œç‰ˆæœ¬å·
# - å°† [æœªå‘å¸ƒ] æ”¹ä¸º [X.Y.Z] - YYYY-MM-DD
# - æ›´æ–° pyproject.toml å’Œ __init__.py

# 3. æäº¤æ›´æ”¹ (è¿™ä¼šè§¦å‘å‘å¸ƒå·¥ä½œæµ)
git add CHANGELOG.md CHANGELOG.zh-CN.md pyproject.toml openwebui_chat_client/__init__.py
git commit -m "chore(release): prepare version 0.1.22 for release"
git push origin main

# 4. ç›‘æ§å‘å¸ƒå·¥ä½œæµ
# è®¿é—® GitHub Actions æŸ¥çœ‹ publish.yml å·¥ä½œæµ
# https://github.com/your-repo/actions

# 5. éªŒè¯ PyPI ä¸Šçš„ç‰ˆæœ¬
# https://pypi.org/project/openwebui-client/

# 6. (å¯é€‰) ä¸ºä¸‹ä¸€ä¸ªå‘¨æœŸæ·»åŠ  [Unreleased]
# - åœ¨ CHANGELOG é¡¶éƒ¨æ·»åŠ  ## [Unreleased]
# - åœ¨ CHANGELOG.zh-CN.md é¡¶éƒ¨æ·»åŠ  ## [æœªå‘å¸ƒ]
```

---

## ç‰¹å®šåŠŸèƒ½å¼€å‘æŒ‡å—

### 1. èŠå¤©åŠŸèƒ½

#### æ ¸å¿ƒæ–¹æ³•å®ç°è¦ç‚¹
- **çŠ¶æ€ç®¡ç†**: ç»´æŠ¤`self.chat_id`å’Œ`self.chat_object_from_server`
- **æ¨¡å‹åˆ‡æ¢**: æ”¯æŒåœ¨åŒä¸€èŠå¤©ä¸­åˆ‡æ¢æ¨¡å‹
- **æµå¼å“åº”**: å®ç°å®æ—¶å†…å®¹æ›´æ–°
- **é”™è¯¯æ¢å¤**: å¤„ç†ç½‘ç»œä¸­æ–­å’ŒAPIé”™è¯¯

#### é‡è¦å®ç°ç»†èŠ‚
- è‡ªåŠ¨ç”ŸæˆèŠå¤©æ ‡é¢˜å’Œæ ‡ç­¾
- æ”¯æŒæ–‡ä»¶ä¸Šä¼ å’Œå¤šæ¨¡æ€è¾“å…¥
- RAGé›†æˆï¼ˆæ–‡ä»¶å’ŒçŸ¥è¯†åº“ï¼‰
- å·¥å…·è°ƒç”¨æ”¯æŒ

### 2. çŸ¥è¯†åº“ç®¡ç†

#### è®¾è®¡åŸåˆ™
- **CRUDæ“ä½œ**: å®Œæ•´çš„åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤åŠŸèƒ½
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡åˆ›å»ºå’Œåˆ é™¤
- **æ–‡ä»¶ç®¡ç†**: æ”¯æŒå‘çŸ¥è¯†åº“æ·»åŠ æ–‡ä»¶
- **æœç´¢åŠŸèƒ½**: æŒ‰åç§°æœç´¢å’Œè¿‡æ»¤

#### å®ç°è¦ç‚¹
- å¼‚æ­¥æ–‡ä»¶ä¸Šä¼ å¤„ç†
- çŸ¥è¯†åº“çŠ¶æ€ç›‘æ§
- é”™è¯¯é‡è¯•æœºåˆ¶

### 4. ç”¨æˆ·ç®¡ç†

#### åŠŸèƒ½èŒƒå›´
- **ç”¨æˆ·æŸ¥è¯¢**: åˆ†é¡µåˆ—å‡ºç”¨æˆ·ï¼Œè·å–å•ä¸ªç”¨æˆ·è¯¦æƒ…
- **è§’è‰²ç®¡ç†**: ä¿®æ”¹ç”¨æˆ·è§’è‰²ï¼ˆAdmin/Userï¼‰
- **ç”¨æˆ·åˆ é™¤**: åˆ é™¤ç”¨æˆ·è´¦å·

#### è®¾è®¡è¦ç‚¹
- **æƒé™æ£€æŸ¥**: è¿™äº›æ“ä½œé€šå¸¸éœ€è¦ Admin æƒé™ token
- **å®‰å…¨æ€§**: ä¸å¤„ç†å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ï¼ˆé™¤é API è¦æ±‚ï¼‰

### 5. å¼‚æ­¥å®¢æˆ·ç«¯æ”¯æŒ

#### è®¾è®¡ç›®æ ‡
- **é«˜å¹¶å‘**: æ”¯æŒ Python å¼‚æ­¥åº”ç”¨ï¼ˆFastAPI, etc.ï¼‰
- **éé˜»å¡**: æ‰€æœ‰ I/O æ“ä½œå¿…é¡» awaitable

#### å®ç°æ¶æ„
- **`AsyncOpenWebUIClient`**: å¼‚æ­¥å®¢æˆ·ç«¯ä¸»ç±»
- **`AsyncBaseClient`**: åŸºäº `httpx.AsyncClient` çš„æ ¸å¿ƒç½‘ç»œå±‚
- **å¼‚æ­¥ç®¡ç†å™¨**: æ‰€æœ‰åŒæ­¥ç®¡ç†å™¨ï¼ˆChatManager ç­‰ï¼‰éƒ½æœ‰å¯¹åº”çš„ Async ç‰ˆæœ¬

### 6. æ¨¡å‹ç®¡ç†

#### åŠŸèƒ½è¦†ç›–
- **åˆ—è¡¨æ“ä½œ**: `list_models()`, `get_model()`, `create_model()`, `update_model()`, `delete_model()`
- **è¯¦æƒ…è·å–**: `get_model()`å¸¦è‡ªåŠ¨é‡è¯•
- **åˆ›å»ºæ›´æ–°**: `create_model()`, `update_model()` 
- **åˆ é™¤æ“ä½œ**: `delete_model()`

#### ç‰¹æ®Šå¤„ç†
- è‡ªåŠ¨åˆ›å»ºé‡è¯•æœºåˆ¶
- æ¨¡å‹IDéªŒè¯
- é…ç½®å‚æ•°éªŒè¯

---

## è°ƒè¯•ä¸æ•…éšœæ’é™¤

### 1. å¸¸è§é—®é¢˜

#### è®¤è¯é”™è¯¯
- æ£€æŸ¥Bearer tokenæœ‰æ•ˆæ€§
- éªŒè¯APIå¯†é’¥é…ç½®
- ç¡®è®¤æƒé™è®¾ç½®

#### æ¨¡å‹æœªæ‰¾åˆ°
- éªŒè¯æ¨¡å‹IDæ­£ç¡®æ€§ï¼ˆå¦‚`"gpt-4.1"`, `"gemini-2.5-flash"`ï¼‰
- ç¡®è®¤æ¨¡å‹åœ¨Open WebUIå®ä¾‹ä¸­å¯ç”¨
- æ£€æŸ¥æ¨¡å‹é…ç½®

#### å·¥å…·æœªæ‰¾åˆ°
- ç¡®è®¤`tool_ids`åŒ¹é…Open WebUIè®¾ç½®ä¸­é…ç½®çš„å·¥å…·ID
- éªŒè¯å·¥å…·æƒé™å’Œå¯ç”¨æ€§

#### æ–‡ä»¶ä¸Šä¼ é—®é¢˜
- æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ­£ç¡®æ€§
- éªŒè¯åº”ç”¨ç¨‹åºæ–‡ä»¶è¯»å–æƒé™
- ç¡®è®¤æ–‡ä»¶æ ¼å¼æ”¯æŒ

### 2. æ—¥å¿—è°ƒè¯•

#### å¯ç”¨è¯¦ç»†æ—¥å¿—
```python
import logging
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
```

#### æ—¥å¿—çº§åˆ«è¯´æ˜
- `INFO`: æ­£å¸¸æ“ä½œæµç¨‹
- `WARNING`: å¯æ¢å¤çš„é—®é¢˜
- `ERROR`: éœ€è¦æ³¨æ„çš„é”™è¯¯
- `DEBUG`: è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯

---

## ğŸ“š Copilotä½¿ç”¨æŒ‡å—

### 1. ä»£ç ç”ŸæˆåŸåˆ™
- ä¸¥æ ¼éµå¾ªç°æœ‰ä»£ç é£æ ¼
- ä¿æŒç±»å‹æç¤ºå®Œæ•´æ€§
- æ·»åŠ é€‚å½“çš„æ—¥å¿—è®°å½•
- åŒ…å«å¼‚å¸¸å¤„ç†

### 2. åŠŸèƒ½æ‰©å±•å»ºè®®
- åŸºäºç°æœ‰ç®¡ç†å™¨æ¨¡å¼å®ç°æ–°åŠŸèƒ½
- ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒå’ŒAPIä¸€è‡´æ€§
- å……åˆ†æµ‹è¯•è¾¹ç•Œæƒ…å†µ
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### 3. é—®é¢˜è§£å†³ç­–ç•¥
- æŸ¥çœ‹ç°æœ‰ç±»ä¼¼å®ç°
- å‚è€ƒæµ‹è¯•ç”¨ä¾‹äº†è§£é¢„æœŸè¡Œä¸º
- æ£€æŸ¥æ—¥å¿—è¾“å‡ºå®šä½é—®é¢˜
- å‚è€ƒOpen WebUI APIæ–‡æ¡£

### 4. æœ€ä½³å®è·µ
- å°æ­¥è¿­ä»£ï¼Œé¢‘ç¹æµ‹è¯•
- ä¿æŒä»£ç ç®€æ´æ˜“è¯»
- å……åˆ†åˆ©ç”¨ç°æœ‰å·¥å…·å’Œæ–¹æ³•
- æ³¨é‡å‘åå…¼å®¹æ€§

### 5. é€‰æ‹©æ€§é›†æˆæµ‹è¯•ä½¿ç”¨
- **æµ‹è¯•æ˜ å°„ç»´æŠ¤**: æ–°åŠŸèƒ½å¼€å‘æ—¶åŒæ­¥æ›´æ–°`.github/test-mapping.yml`
- **æœ¬åœ°æµ‹è¯•éªŒè¯**: ä½¿ç”¨`run_integration_tests.py`åœ¨æœ¬åœ°éªŒè¯æµ‹è¯•
- **CIä¼˜åŒ–æ„è¯†**: é¿å…ä¸å¿…è¦çš„æµ‹è¯•è§¦å‘ï¼Œæé«˜CIæ•ˆç‡
- **é…ç½®æ–‡ä»¶ç†è§£**: ç†Ÿæ‚‰æµ‹è¯•ç±»åˆ«å’Œæ–‡ä»¶æ˜ å°„è§„åˆ™

---

è¿™ä»½æŒ‡å—æ¶µç›–äº†openwebui-chat-clienté¡¹ç›®çš„å®Œæ•´å¼€å‘å·¥ä½œæµç¨‹ï¼Œä¸ºAIåŠ©æ‰‹æä¾›äº†å…¨é¢çš„å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µã€‚åœ¨è¿›è¡Œä»»ä½•å¼€å‘å·¥ä½œæ—¶ï¼Œè¯·ä¸¥æ ¼éµå¾ªè¿™äº›æŒ‡å¯¼åŸåˆ™ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œé¡¹ç›®ä¸€è‡´æ€§ã€‚

---

## APIæ–‡æ¡£ç»´æŠ¤è§„èŒƒ

### 1. API Reference ç»„ç»‡åŸåˆ™

#### åŠŸèƒ½åˆ†ç»„æ ‡å‡†
- **èŠå¤©æ“ä½œ (ğŸ’¬ Chat Operations)**: æ ¸å¿ƒå¯¹è¯åŠŸèƒ½
  - `chat()`, `stream_chat()`, `parallel_chat()`
  - è¿™äº›æ˜¯ç”¨æˆ·æœ€å¸¸ç”¨çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä¼˜å…ˆå±•ç¤º
  
- **èŠå¤©ç®¡ç† (ğŸ› ï¸ Chat Management)**: èŠå¤©ä¼šè¯ç®¡ç†
  - `rename_chat()`, `set_chat_tags()`, `update_chat_metadata()`, `switch_chat_model()`, `create_folder()`
  - ç»„ç»‡å’Œç®¡ç†ç°æœ‰èŠå¤©çš„åŠŸèƒ½
  
- **æ¨¡å‹ç®¡ç† (ğŸ¤– Model Management)**: æ¨¡å‹CRUDæ“ä½œ
  - `list_models()`, `get_model()`, `create_model()`, `update_model()`, `delete_model()`
  - æ¨¡å‹çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†
  
- **çŸ¥è¯†åº“æ“ä½œ (ğŸ“š Knowledge Base Operations)**: RAGç›¸å…³åŠŸèƒ½
  - çŸ¥è¯†åº“çš„åˆ›å»ºã€ç®¡ç†ã€åˆ é™¤å’Œæ‰¹é‡æ“ä½œ
  - æ–‡ä»¶ä¸Šä¼ å’ŒçŸ¥è¯†åº“å…³è”
  
- **ç¬”è®°API (ğŸ“ Notes API)**: ç¬”è®°ç®¡ç†åŠŸèƒ½
  - ç¬”è®°çš„CRUDæ“ä½œå’Œå…ƒæ•°æ®ç®¡ç†

#### è¡¨æ ¼ç»“æ„è§„èŒƒ
- **æ–¹æ³•åç§°**: ä½¿ç”¨ä»£ç æ ¼å¼ `method_name()`
- **è¯´æ˜**: ç®€æ´æ˜äº†çš„åŠŸèƒ½æè¿°ï¼Œçªå‡ºå…³é”®ç‰¹æ€§
- **å‚æ•°**: åˆ—å‡ºä¸»è¦å‚æ•°ï¼Œä½¿ç”¨é€—å·åˆ†éš”ï¼Œå¤æ‚å¯¹è±¡ç”¨ç®€åŒ–åç§°

#### è¿”å›å€¼æ–‡æ¡£åŒ–
- **æä¾›å…·ä½“ç¤ºä¾‹**: å±•ç¤ºå®é™…è¿”å›çš„æ•°æ®ç»“æ„
- **è¯´æ˜å…³é”®å­—æ®µ**: è§£é‡Šé‡è¦å­—æ®µçš„å«ä¹‰å’Œç”¨é€”
- **åŒºåˆ†æ“ä½œç±»å‹**: ä¸åŒç±»å‹æ“ä½œçš„è¿”å›å€¼æ ¼å¼

### 2. æ–‡æ¡£åŒæ­¥ç»´æŠ¤æµç¨‹

#### åŒè¯­æ–‡æ¡£ä¸€è‡´æ€§
- **è‹±æ–‡ä¼˜å…ˆ**: å…ˆæ›´æ–°è‹±æ–‡ç‰ˆæœ¬ï¼Œç¡®ä¿æœ¯è¯­å‡†ç¡®
- **ä¸­æ–‡åŒæ­¥**: ç«‹å³åŒæ­¥ä¸­æ–‡ç‰ˆæœ¬ï¼Œä¿æŒç»“æ„ä¸€è‡´
- **æ ¼å¼ç»Ÿä¸€**: ç¡®ä¿è¡¨æ ¼æ ¼å¼ã€emojiä½¿ç”¨ã€ç« èŠ‚ç»“æ„å®Œå…¨ä¸€è‡´

#### ç‰ˆæœ¬æ§åˆ¶è¦æ±‚
- **åŸå­åŒ–æäº¤**: è‹±æ–‡å’Œä¸­æ–‡æ–‡æ¡£åœ¨åŒä¸€ä¸ªcommitä¸­æ›´æ–°
- **æ¸…æ™°çš„commit message**: è¯´æ˜æ–‡æ¡£æ›´æ–°çš„å…·ä½“å†…å®¹
- **äº¤å‰å¼•ç”¨æ£€æŸ¥**: ç¡®ä¿å†…éƒ¨é“¾æ¥åœ¨ä¸¤ä¸ªç‰ˆæœ¬ä¸­éƒ½æœ‰æ•ˆ

### 3. APIæ–‡æ¡£è´¨é‡æ ‡å‡†

#### å®Œæ•´æ€§è¦æ±‚
- **æ— é—æ¼**: æ‰€æœ‰å…¬å…±æ–¹æ³•éƒ½å¿…é¡»åœ¨API Referenceä¸­æœ‰æ–‡æ¡£
- **å‚æ•°å®Œæ•´**: æ‰€æœ‰é‡è¦å‚æ•°éƒ½è¦åˆ—å‡ºï¼Œå¯é€‰å‚æ•°è¦æ ‡æ˜
- **è¿”å›å€¼æ˜ç¡®**: æ¸…æ™°è¯´æ˜è¿”å›å€¼çš„ç±»å‹å’Œç»“æ„

#### å‡†ç¡®æ€§éªŒè¯
- **ä»£ç åŒæ­¥**: æ–‡æ¡£å¿…é¡»ä¸å®é™…ä»£ç å®ç°ä¿æŒåŒæ­¥
- **ç¤ºä¾‹æœ‰æ•ˆ**: æ‰€æœ‰ä»£ç ç¤ºä¾‹å¿…é¡»å¯ä»¥å®é™…è¿è¡Œ
- **é“¾æ¥æ£€æŸ¥**: ç¡®ä¿æ‰€æœ‰å†…éƒ¨å’Œå¤–éƒ¨é“¾æ¥éƒ½æœ‰æ•ˆ

#### å¯ç”¨æ€§ä¼˜åŒ–
- **é€»è¾‘åˆ†ç»„**: æŒ‰åŠŸèƒ½é€»è¾‘åˆ†ç»„ï¼Œä¾¿äºæŸ¥æ‰¾
- **æœç´¢å‹å¥½**: ä½¿ç”¨å‡†ç¡®çš„å…³é”®è¯å’Œæè¿°
- **å±‚æ¬¡æ¸…æ™°**: åˆç†çš„æ ‡é¢˜å±‚æ¬¡å’Œç»“æ„

### 4. æ–‡æ¡£æ›´æ–°è§¦å‘æ¡ä»¶

#### å¿…é¡»æ›´æ–°æ–‡æ¡£çš„æƒ…å†µ
- **æ–°å¢APIæ–¹æ³•**: æ·»åŠ æ–°çš„å…¬å…±æ–¹æ³•
- **å‚æ•°å˜æ›´**: ä¿®æ”¹æ–¹æ³•ç­¾åã€æ·»åŠ /åˆ é™¤å‚æ•°
- **è¿”å›å€¼å˜æ›´**: ä¿®æ”¹è¿”å›å€¼ç»“æ„æˆ–ç±»å‹
- **è¡Œä¸ºå˜æ›´**: æ–¹æ³•è¡Œä¸ºæœ‰é‡å¤§å˜åŒ–

#### æ–‡æ¡£å®¡æŸ¥æ£€æŸ¥é¡¹
- **åŠŸèƒ½åˆ†ç»„æ­£ç¡®**: æ–°æ–¹æ³•å½’ç±»åˆ°æ­£ç¡®çš„åŠŸèƒ½ç»„
- **æè¿°å‡†ç¡®ç®€æ´**: åŠŸèƒ½æè¿°å‡†ç¡®ä¸”ä¸å†—ä½™
- **å‚æ•°åˆ—è¡¨å®Œæ•´**: é‡è¦å‚æ•°éƒ½å·²åˆ—å‡º
- **ä¸­è‹±æ–‡ä¸€è‡´**: ä¸¤ä¸ªç‰ˆæœ¬çš„ç»“æ„å’Œå†…å®¹ä¿æŒä¸€è‡´

### 5. è‡ªåŠ¨åŒ–æ–‡æ¡£ç»´æŠ¤

#### æ–‡æ¡£ç”Ÿæˆè¾…åŠ©
- **å‚æ•°æå–**: ä»ä»£ç æ³¨é‡Šä¸­æå–å‚æ•°ä¿¡æ¯
- **è¿”å›å€¼ç¤ºä¾‹**: æ ¹æ®ä»£ç ç”Ÿæˆè¿”å›å€¼ç¤ºä¾‹
- **é“¾æ¥æ£€æŸ¥**: å®šæœŸæ£€æŸ¥æ–‡æ¡£ä¸­çš„é“¾æ¥æœ‰æ•ˆæ€§

#### è´¨é‡æ£€æŸ¥è‡ªåŠ¨åŒ–
- **æ ¼å¼ä¸€è‡´æ€§**: æ£€æŸ¥è¡¨æ ¼æ ¼å¼å’Œmarkdownç»“æ„
- **åŒè¯­åŒæ­¥æ£€æŸ¥**: éªŒè¯ä¸­è‹±æ–‡ç‰ˆæœ¬çš„ç« èŠ‚å¯¹åº”å…³ç³»
- **å®Œæ•´æ€§éªŒè¯**: ç¡®ä¿æ‰€æœ‰å…¬å…±APIéƒ½æœ‰æ–‡æ¡£

### 6. README.md ç»´æŠ¤æœ€ä½³å®è·µ

#### ä¸»README.mdç»“æ„åŸåˆ™
- **ç”¨æˆ·å¯¼å‘**: ä»¥ç”¨æˆ·ä½¿ç”¨æµç¨‹ä¸ºä¸»çº¿ç»„ç»‡å†…å®¹
- **æ¸è¿›å¼**: ä»ç®€å•ç¤ºä¾‹åˆ°å¤æ‚åŠŸèƒ½
- **å®Œæ•´æ€§**: æ¶µç›–å®‰è£…ã€é…ç½®ã€ä½¿ç”¨ã€æ•…éšœæ’é™¤

#### examples/README.mdç®¡ç†
- **ç›®å½•åŒæ­¥**: ç¡®ä¿ç›®å½•ç»“æ„æè¿°ä¸å®é™…æ–‡ä»¶ç»“æ„ä¸€è‡´
- **ç¤ºä¾‹åˆ†ç±»**: æŒ‰åŠŸèƒ½å’Œå¤æ‚åº¦è¿›è¡Œåˆç†åˆ†ç±»
- **è¿è¡ŒæŒ‡å¯¼**: æä¾›æ¸…æ™°çš„è¿è¡Œå‰æå’Œæ­¥éª¤

#### é“¾æ¥ç»´æŠ¤
- **ç›¸å¯¹è·¯å¾„**: ä½¿ç”¨ç›¸å¯¹è·¯å¾„ç¡®ä¿åœ¨ä¸åŒç¯å¢ƒä¸­çš„å¯è®¿é—®æ€§
- **å®šæœŸæ£€æŸ¥**: éªŒè¯æ‰€æœ‰é“¾æ¥çš„æœ‰æ•ˆæ€§
- **æ ‡å‡†åŒ–**: ç»Ÿä¸€é“¾æ¥æ ¼å¼å’Œå‘½åè§„èŒƒ

---

## æ•…éšœæ’é™¤æ–‡æ¡£è§„èŒƒ

### 1. å¸¸è§é—®é¢˜åˆ†ç±»

#### ç¯å¢ƒé…ç½®é—®é¢˜
- **è®¤è¯é”™è¯¯**: Bearer tokenç›¸å…³é—®é¢˜
- **è¿æ¥é—®é¢˜**: ç½‘ç»œå’ŒæœåŠ¡å™¨è¿æ¥å¤±è´¥
- **ä¾èµ–é—®é¢˜**: PythonåŒ…å’Œç‰ˆæœ¬å…¼å®¹æ€§

#### åŠŸèƒ½ä½¿ç”¨é—®é¢˜
- **æ¨¡å‹ç›¸å…³**: æ¨¡å‹IDã€å¯ç”¨æ€§ã€æƒé™é—®é¢˜
- **æ–‡ä»¶æ“ä½œ**: ä¸Šä¼ ã€è·¯å¾„ã€æƒé™é—®é¢˜
- **APIè°ƒç”¨**: å‚æ•°é”™è¯¯ã€è¿”å›å€¼å¼‚å¸¸

#### æ€§èƒ½å’Œç¨³å®šæ€§
- **å¹¶å‘é—®é¢˜**: å¤šçº¿ç¨‹å’Œå¼‚æ­¥æ“ä½œ
- **å†…å­˜ä½¿ç”¨**: å¤§æ–‡ä»¶å¤„ç†å’Œæ‰¹é‡æ“ä½œ
- **ç½‘ç»œè¶…æ—¶**: é•¿æ—¶é—´æ“ä½œå’Œé‡è¯•æœºåˆ¶

### 2. è§£å†³æ–¹æ¡ˆæ–‡æ¡£åŒ–

#### é—®é¢˜æè¿°æ ‡å‡†
- **ç—‡çŠ¶æè¿°**: æ¸…æ™°æè¿°ç”¨æˆ·é‡åˆ°çš„ç°è±¡
- **é”™è¯¯ä¿¡æ¯**: æä¾›å…·ä½“çš„é”™è¯¯æ¶ˆæ¯ç¤ºä¾‹
- **ç¯å¢ƒä¿¡æ¯**: è¯´æ˜é—®é¢˜å‘ç”Ÿçš„ç¯å¢ƒæ¡ä»¶

#### è§£å†³æ­¥éª¤æ ¼å¼
- **åˆ†æ­¥éª¤**: å°†è§£å†³æ–¹æ¡ˆåˆ†è§£ä¸ºå¯æ“ä½œçš„æ­¥éª¤
- **ä»£ç ç¤ºä¾‹**: æä¾›å…·ä½“çš„ä»£ç ä¿®å¤ç¤ºä¾‹
- **éªŒè¯æ–¹æ³•**: è¯´æ˜å¦‚ä½•éªŒè¯é—®é¢˜æ˜¯å¦è§£å†³

### 3. é¢„é˜²æ€§æ–‡æ¡£

#### æœ€ä½³å®è·µæŒ‡å¯¼
- **é…ç½®å»ºè®®**: æ¨èçš„é…ç½®å’Œè®¾ç½®æ–¹å¼
- **ä½¿ç”¨æ¨¡å¼**: æ¨èçš„APIä½¿ç”¨æ¨¡å¼å’Œåæ¨¡å¼
- **æ€§èƒ½ä¼˜åŒ–**: æé«˜æ€§èƒ½å’Œç¨³å®šæ€§çš„å»ºè®®

#### æ³¨æ„äº‹é¡¹
- **é™åˆ¶è¯´æ˜**: æ˜ç¡®APIçš„é™åˆ¶å’Œçº¦æŸ
- **å…¼å®¹æ€§**: è¯´æ˜ç‰ˆæœ¬å…¼å®¹æ€§å’Œå‡çº§æ³¨æ„äº‹é¡¹
- **å®‰å…¨å»ºè®®**: å…³äºAPIå¯†é’¥å’Œæ•°æ®å®‰å…¨çš„æŒ‡å¯¼

---

## ç¤ºä¾‹ä»£ç å¼€å‘è§„èŒƒ

### 1. ç¤ºä¾‹ç›®å½•ç»“æ„

#### ç›®å½•ç»„ç»‡
```
examples/
â”œâ”€â”€ README.md                     # ç¤ºä¾‹æ€»è§ˆå’Œä½¿ç”¨æŒ‡å—
â”œâ”€â”€ config/                       # é…ç½®å’Œç¯å¢ƒè®¾ç½®
â”‚   â”œâ”€â”€ basic_config.py          # åŸºç¡€å®¢æˆ·ç«¯é…ç½®
â”‚   â””â”€â”€ environment_setup.py     # ç¯å¢ƒå˜é‡è®¾ç½®æŒ‡å—
â”œâ”€â”€ getting_started/              # å…¥é—¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ hello_world.py           # æœ€ç®€å•çš„ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ basic_chat.py            # åŸºç¡€èŠå¤©åŠŸèƒ½
â”‚   â””â”€â”€ quick_start.py           # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ chat_features/                # èŠå¤©åŠŸèƒ½ç¤ºä¾‹
â”‚   â”œâ”€â”€ streaming_chat.py        # æµå¼èŠå¤©
â”‚   â”œâ”€â”€ parallel_chat.py         # å¹¶è¡Œå¤šæ¨¡å‹èŠå¤©
â”‚   â”œâ”€â”€ follow_up_suggestions.py # åç»­å»ºè®®åŠŸèƒ½
â”‚   â”œâ”€â”€ chat_with_images.py      # å¤šæ¨¡æ€èŠå¤©
â”‚   â””â”€â”€ chat_management.py       # èŠå¤©ç®¡ç†åŠŸèƒ½
â”œâ”€â”€ rag_knowledge/                # RAGå’ŒçŸ¥è¯†åº“ç¤ºä¾‹
â”‚   â”œâ”€â”€ file_rag.py              # æ–‡ä»¶RAG
â”‚   â”œâ”€â”€ knowledge_base.py        # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”œâ”€â”€ batch_knowledge_ops.py   # æ‰¹é‡çŸ¥è¯†åº“æ“ä½œ
â”‚   â””â”€â”€ advanced_rag.py          # é«˜çº§RAGåŠŸèƒ½
â”œâ”€â”€ model_management/             # æ¨¡å‹ç®¡ç†ç¤ºä¾‹
â”‚   â”œâ”€â”€ list_models.py           # åˆ—å‡ºå¯ç”¨æ¨¡å‹
â”‚   â”œâ”€â”€ model_operations.py      # æ¨¡å‹CRUDæ“ä½œ
â”‚   â””â”€â”€ model_switching.py       # æ¨¡å‹åˆ‡æ¢
â”œâ”€â”€ notes_api/                    # ç¬”è®°APIç¤ºä¾‹
â”‚   â”œâ”€â”€ basic_notes.py           # åŸºç¡€ç¬”è®°æ“ä½œ
â”‚   â””â”€â”€ advanced_notes.py        # é«˜çº§ç¬”è®°ç®¡ç†
â”œâ”€â”€ advanced_features/            # é«˜çº§åŠŸèƒ½ç¤ºä¾‹
â”‚   â”œâ”€â”€ real_time_streaming.py   # å®æ—¶æµå¼æ›´æ–°
â”‚   â”œâ”€â”€ concurrent_operations.py # å¹¶å‘æ“ä½œ
â”‚   â”œâ”€â”€ error_handling.py        # é”™è¯¯å¤„ç†æ¨¡å¼
â”‚   â””â”€â”€ custom_tools.py          # è‡ªå®šä¹‰å·¥å…·ä½¿ç”¨
â”œâ”€â”€ comprehensive/                # ç»¼åˆç¤ºä¾‹
â”‚   â”œâ”€â”€ full_demo.py             # å…¨åŠŸèƒ½æ¼”ç¤º
â”‚   â””â”€â”€ use_case_scenarios.py    # å®é™…ç”¨ä¾‹åœºæ™¯
â””â”€â”€ utils/                        # å·¥å…·å’Œè¾…åŠ©å‡½æ•°
    â”œâ”€â”€ example_base.py          # ç¤ºä¾‹åŸºç±»
    â”œâ”€â”€ file_helpers.py          # æ–‡ä»¶æ“ä½œè¾…åŠ©
    â””â”€â”€ test_data.py             # æµ‹è¯•æ•°æ®ç”Ÿæˆ
```

### 2. ç¤ºä¾‹ä»£ç æ ‡å‡†

#### æ–‡ä»¶ç»“æ„æ¨¡æ¿
æ¯ä¸ªç¤ºä¾‹æ–‡ä»¶éƒ½åº”éµå¾ªä»¥ä¸‹æ¨¡æ¿ç»“æ„ï¼š

```python
#!/usr/bin/env python3
"""
ç¤ºä¾‹åŠŸèƒ½çš„ç®€è¦æè¿°ã€‚

æœ¬ç¤ºä¾‹æ¼”ç¤ºçš„åŠŸèƒ½ï¼š
- åŠŸèƒ½1
- åŠŸèƒ½2
- åŠŸèƒ½3

è¦æ±‚ï¼š
- ç¯å¢ƒå˜é‡: OUI_BASE_URL
- ç¯å¢ƒå˜é‡: OUI_AUTH_TOKEN
- æ¨¡å‹å¯ç”¨æ€§: ç‰¹å®šæ¨¡å‹ï¼ˆå¦‚æœéœ€è¦ï¼‰

ä½¿ç”¨æ–¹æ³•ï¼š
    python examples/category/example_name.py
"""

import logging
import os
from typing import Optional, Dict, Any

from openwebui_chat_client import OpenWebUIClient
from dotenv import load_dotenv

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()

# é…ç½®
BASE_URL = os.getenv("OUI_BASE_URL", "http://localhost:3000")
AUTH_TOKEN = os.getenv("OUI_AUTH_TOKEN")
DEFAULT_MODEL = os.getenv("OUI_DEFAULT_MODEL", "gpt-4.1")

# æ—¥å¿—è®¾ç½®
logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(levelname)s - %(message)s"
)
logger = logging.getLogger(__name__)


def main() -> None:
    """æ¼”ç¤ºç¤ºä¾‹åŠŸèƒ½çš„ä¸»å‡½æ•°ã€‚"""
    # éªŒè¯ç¯å¢ƒå˜é‡
    if not AUTH_TOKEN:
        logger.error("âŒ OUI_AUTH_TOKEN ç¯å¢ƒå˜é‡æœªè®¾ç½®")
        return
    
    # å®¢æˆ·ç«¯åˆå§‹åŒ–
    try:
        client = OpenWebUIClient(BASE_URL, AUTH_TOKEN, DEFAULT_MODEL)
        logger.info("âœ… å®¢æˆ·ç«¯åˆå§‹åŒ–æˆåŠŸ")
    except Exception as e:
        logger.error(f"âŒ å®¢æˆ·ç«¯åˆå§‹åŒ–å¤±è´¥: {e}")
        return
    
    # ç¤ºä¾‹å®ç°
    # ... ä½ çš„ç¤ºä¾‹ä»£ç  ...
    
    logger.info("ğŸ‰ ç¤ºä¾‹æ‰§è¡Œå®Œæˆ")


if __name__ == "__main__":
    main()
```

#### å‘½åè§„èŒƒ
- **æ–‡ä»¶å**: ä½¿ç”¨ `snake_case.py`ï¼Œæè¿°æ€§å‘½å
- **å‡½æ•°å**: éµå¾ª PEP 8ï¼Œä½¿ç”¨ `snake_case`
- **ç±»å**: ä½¿ç”¨ `PascalCase`
- **å¸¸é‡**: ä½¿ç”¨ `UPPER_SNAKE_CASE`

#### ä»£ç è§„èŒƒ
- **å¯¼å…¥é¡ºåº**: æ ‡å‡†åº“ â†’ ç¬¬ä¸‰æ–¹åº“ â†’ æœ¬åœ°åº“
- **ç¯å¢ƒå˜é‡**: ç»Ÿä¸€çš„ç¯å¢ƒå˜é‡å¤„ç†æ–¹å¼
- **é”™è¯¯å¤„ç†**: é€‚å½“çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•
- **ç±»å‹æç¤º**: å®Œæ•´çš„ç±»å‹æ³¨è§£
- **æ–‡æ¡£**: æ¸…æ™°çš„docstringå’Œæ³¨é‡Š

#### æ–‡æ¡£è§„èŒƒ
- **æ–‡ä»¶å¤´éƒ¨**: åŠŸèƒ½æè¿°ã€æ¼”ç¤ºåŠŸèƒ½åˆ—è¡¨ã€è¦æ±‚ã€ä½¿ç”¨æ–¹æ³•
- **å‡½æ•°æ–‡æ¡£**: æ¸…æ™°çš„å‚æ•°å’Œè¿”å›å€¼æè¿°
- **æ³¨é‡Š**: è§£é‡Šå¤æ‚é€»è¾‘çš„æœ‰æ„ä¹‰æ³¨é‡Š
- **é”™è¯¯æ¶ˆæ¯**: ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

### 3. ç¤ºä¾‹å¼€å‘æµç¨‹

#### æ–°ç¤ºä¾‹å¼€å‘
1. **éœ€æ±‚åˆ†æ**: ç¡®å®šè¦æ¼”ç¤ºçš„åŠŸèƒ½å’Œç›®æ ‡ç”¨æˆ·
2. **åˆ†ç±»æ”¾ç½®**: æ ¹æ®åŠŸèƒ½å°†ç¤ºä¾‹æ”¾åœ¨åˆé€‚çš„ç›®å½•ä¸­
3. **éµå¾ªæ¨¡æ¿**: ä½¿ç”¨æ ‡å‡†æ¨¡æ¿ç»“æ„
4. **åŠŸèƒ½å®ç°**: å®ç°æ ¸å¿ƒæ¼”ç¤ºåŠŸèƒ½
5. **æµ‹è¯•éªŒè¯**: ç¡®ä¿ç¤ºä¾‹å¯ä»¥æ­£å¸¸è¿è¡Œ
6. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°ç›¸å…³READMEå’Œè¯´æ˜

#### ç¤ºä¾‹è´¨é‡æ ‡å‡†
- **å¯æ‰§è¡Œæ€§**: ç¤ºä¾‹å¿…é¡»å¯ä»¥ç›´æ¥è¿è¡Œ
- **æ•™è‚²æ€§**: ä»£ç æ¸…æ™°æ˜“æ‡‚ï¼Œæœ‰æ•™è‚²ä»·å€¼
- **å®Œæ•´æ€§**: åŒ…å«å¿…è¦çš„é”™è¯¯å¤„ç†å’ŒéªŒè¯
- **ä¸€è‡´æ€§**: éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼å’Œçº¦å®š
- **å®ç”¨æ€§**: æ¼”ç¤ºçœŸå®çš„ä½¿ç”¨åœºæ™¯

### 4. ç¯å¢ƒå˜é‡è§„èŒƒ

#### æ ‡å‡†ç¯å¢ƒå˜é‡
æ‰€æœ‰ç¤ºä¾‹éƒ½åº”æ”¯æŒä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# å¿…éœ€
export OUI_BASE_URL="http://localhost:3000"
export OUI_AUTH_TOKEN="your_api_token_here"

# å¯é€‰
export OUI_DEFAULT_MODEL="gpt-4.1"
export OUI_PARALLEL_MODELS="gpt-4.1,gemini-2.5-flash"
export OUI_RAG_MODEL="gemini-2.5-flash"
export OUI_MULTIMODAL_MODEL="gpt-4.1"
```

#### ç¯å¢ƒå˜é‡å¤„ç†
- **åŠ è½½æ–¹å¼**: ä½¿ç”¨ `python-dotenv` åŠ è½½ `.env` æ–‡ä»¶
- **é»˜è®¤å€¼**: ä¸ºå¯é€‰å˜é‡æä¾›åˆç†çš„é»˜è®¤å€¼
- **éªŒè¯**: éªŒè¯å¿…éœ€çš„ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®
- **é”™è¯¯æç¤º**: æä¾›æ¸…æ™°çš„è®¾ç½®æŒ‡å¯¼

### 5. å·¥å…·ç±»ä½¿ç”¨

#### åŸºç¡€ç±»
- **ExampleBase**: æ‰€æœ‰ç¤ºä¾‹çš„åŸºç±»ï¼Œæä¾›é€šç”¨åŠŸèƒ½
- **FileHelper**: æ–‡ä»¶æ“ä½œè¾…åŠ©å·¥å…·
- **TestDataGenerator**: æµ‹è¯•æ•°æ®ç”Ÿæˆå·¥å…·

#### ä½¿ç”¨æ¨¡å¼
```python
from utils.example_base import ExampleBase

class MyExample(ExampleBase):
    def run_example(self):
        # ç¤ºä¾‹å®ç°
        pass

example = MyExample("my_example", "æ¼”ç¤ºæŸåŠŸèƒ½")
example.run()
```
